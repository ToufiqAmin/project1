<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Delivery Challan</title>
    <meta name="description" content="Sufee Admin - HTML5 Admin Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">

   

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/themify-icons.css">
    <link rel="stylesheet" href="/css/flag-icon.min.css">
    <link rel="stylesheet" href="/css/cs-skin-elastic.css">
    <link rel="stylesheet" href="/css/lib/datatable/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="/scss/style.css">

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>

   
       

    <style type="text/css">
    
    
    body{

    background-color: #eee; 
}

table th , table td{
    text-align: center;
    
}

.pagination li:first-child(active){
    background-color: #Red
}

.pagination li:hover{
    cursor: pointer;
    color:red;
     border: 1px solid #4CAF50;
    
}
	
       
       .pagination-container ul{
        float:left;
        padding:8 px 16px;
        text-decoration: none;       

        color:black;
     }
     
     .pagination-container ul.active{
        background-color: #Red;             
        border: 1px solid #4CAF50;
        color:white;
     }
    
        .modal-backdrop.show {
            display: none;
        }

        .modal-backdrop.fade {
            display: none;
        }
        
        .active {
            inline: block;
        }
        

/*
        div.dataTables_wrapper {
            width: 100%;
        }
*/
		.selected{
			background-color: #eee;
			color: #000;
		}
		
		.dataTables_length, .dataTables_filter {
			display: none !important;
		}
    </style>
    
    
    <style>
.custom-header-panel{
    background-color: #004b8e !important;
    border-color: #004b8e !important;
    color: white;
}


.panel {
  padding: 15px;
  margin-bottom: 20px;
  background-color: #ffffff;
  border: 1px solid #dddddd;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}

.panel-heading {
  padding: 10px 15px;
  margin: -15px -15px 15px;
  font-size: 17.5px;
  font-weight: 500;      
  background-color: #f5f5f5;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}

.panel-footer {
  padding: 10px 15px;
  margin: 15px -15px -15px;
  background-color: #f5f5f5;
  border-top: 1px solid #dddddd;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
} 

.panel-primary {
  border-color: #428bca;
}

.panel-primary .panel-heading {
  color: #ffffff;
  background-color: #428bca;
  border-color: #428bca;
}
/* This kinda of works but now 
.panel, .panel-group .panel-heading+.panel-collapse>.panel-body{
    border: none;
}
*/
.card-header{
    /* background-color: #004b8e !important; */
    background-color: #004b8e !important;
    border-color: #004b8e !important;
    color: white;

    padding: 10px 15px;
  /*margin: -15px -15px 15px; */

  font-size: 17.5px;
  font-weight: 500;      
  background-color: #f5f5f5;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}


 <style type="text/css">
       
       #calculate{
      display:none;
     }
    
        .modal-backdrop.show {
            display: none;
        }

        .modal-backdrop.fade {
            display: none;
        }

/*
        div.dataTables_wrapper {
            width: 100%;
        }
*/
		.selected{
			background-color: #eee;
			color: #000;
		}
		
		.dataTables_length, .dataTables_filter {
			display: none !important;
		}
    </style>


</head>

<body>
    <!-- Left Panel -->

    <aside id="left-panel" class="left-panel">
		<nav class="navbar navbar-expand-sm navbar-default">

			<div class="navbar-header">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
					<i class="fa fa-bars"></i>
				</button>
				<a class="navbar-brand" href="./">Mas</a>
				<a class="navbar-brand hidden" href="./">BD</a>
			</div>

			<div id="main-menu" class="main-menu collapse navbar-collapse">
				<ul class="nav navbar-nav">
					
					<h3 class="menu-title">Inquery Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Inquery</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="inquery_table.html">Inquery</a></li>
							<li><a href="inquery_data_upload.html">Inquery Upload</a></li>
							<li><a href="inquery_ms_details.html">Inquery Master Details</a></li>
							<li><a href="inquery_verification.html">Inquery Verification</a></li>
						</ul>
					</li>


					<h3 class="menu-title">Buyer Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Buyer</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="buyer_data_upload.html">Buyer upload</a></li>
							<li><a href="buyer_search_design.html">Buyer Search</a></li>
						</ul>
					</li>

					<h3 class="menu-title">Design Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Design</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="design_table.html">Design</a></li>
							<li><a href="design_search.html">Design Search</a></li>
						</ul>
					</li>

					

					
					
					<h3 class="menu-title">Machine Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Machine</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="Machine_search.html">Machine List</a></li>
							<li><a href="Machine_data_upload.html">Machine Upload</a></li>
						</ul>
					</li>
					
					<h3 class="menu-title">Cost Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Cost</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="cost_head_search.html">Cost List</a></li>
							<li><a href="cost_calculation.html">Cost Calculation</a></li>
							<li><a href="cost_head.html">Cost Head</a></li>
						</ul>
					</li>
					
					<h3 class="menu-title">Item Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Item</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="Item_list.html">Item List</a></li>
							<li><a href="item_type_list.html">Item Type List</a></li>
							<li><a href="item_type%20(category).html">Item Type Category</a></li>
							<li><a href="item_entry.html">Item Upload</a></li>
						</ul>
					</li>
					<h3 class="menu-title">Purchase Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Purchase</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="Purchase_price_data_upload.html">Purchase Upload</a></li>
						</ul>
					</li>
					<h3 class="menu-title">Specification Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Specification</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="Specification_data_upload%20.html">Specification Data Upload</a></li>
						</ul>
					</li>
					<h3 class="menu-title">Supplier Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Supplier</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="Supplier_data_upload%20.html">Supplier Data Upload</a></li>
						</ul>
					</li>
					<h3 class="menu-title">UOM Info</h3><!-- /.menu-title -->
					<li class="menu-item-has-children dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>UOM</a>
						<ul class="sub-menu children dropdown-menu">
							<li><a href="uom_list.html">UOM List</a></li>
							<li><a href="uom_upload.html">UOM Upload</a></li>
						</ul>
					</li>
					



				</ul>
			</div><!-- /.navbar-collapse -->
		</nav>
	</aside><!-- /#left-panel -->

    <!-- Left Panel -->

    <!-- Right Panel -->

     <div id="" class="right-panel">

        <!-- Header-->
        <header id="header" class="header">
        
 
            <div class="header-menu">

                <div class="col-sm-7">
                    <a id="menuToggle" class="menutoggle pull-left"><i class="fa fa fa-tasks"></i></a>
                    <div class="header-left">
                        <button class="search-trigger"><i class="fa fa-search"></i></button>
                        <div class="form-inline">
                            <form class="search-form">
                                <input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
                                <button class="search-close" type="submit"><i class="fa fa-close"></i></button>
                            </form>
                        </div>

                        <!--
                        <div class="dropdown for-notification">
                          <button class="btn btn-secondary dropdown-toggle" type="button" id="notification" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-bell"></i>
                            <span class="count bg-danger">5</span>
                          </button>
                          <div class="dropdown-menu" aria-labelledby="notification">
                            <p class="red">You have 3 Notification</p>
                            <a class="dropdown-item media bg-flat-color-1" href="#">
                                <i class="fa fa-check"></i>
                                <p>Server #1 overloaded.</p>
                            </a>
                            <a class="dropdown-item media bg-flat-color-4" href="#">
                                <i class="fa fa-info"></i>
                                <p>Server #2 overloaded.</p>
                            </a>
                            <a class="dropdown-item media bg-flat-color-5" href="#">
                                <i class="fa fa-warning"></i>
                                <p>Server #3 overloaded.</p>
                            </a>
                          </div>
                        </div>
-->

                        <!--
                        <div class="dropdown for-message">
                          <button class="btn btn-secondary dropdown-toggle" type="button"
                                id="message"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="ti-email"></i>
                            <span class="count bg-primary">9</span>
                          </button>
                          <div class="dropdown-menu" aria-labelledby="message">
                            <p class="red">You have 4 Mails</p>
                            <a class="dropdown-item media bg-flat-color-1" href="#">
                                <span class="photo media-left"><img alt="avatar" src="images/avatar/1.jpg"></span>
                                <span class="message media-body">
                                    <span class="name float-left">Jonathan Smith</span>
                                    <span class="time float-right">Just now</span>
                                        <p>Hello, this is an example msg</p>
                                </span>
                            </a>
                            <a class="dropdown-item media bg-flat-color-4" href="#">
                                <span class="photo media-left"><img alt="avatar" src="images/avatar/2.jpg"></span>
                                <span class="message media-body">
                                    <span class="name float-left">Jack Sanders</span>
                                    <span class="time float-right">5 minutes ago</span>
                                        <p>Lorem ipsum dolor sit amet, consectetur</p>
                                </span>
                            </a>
                            <a class="dropdown-item media bg-flat-color-5" href="#">
                                <span class="photo media-left"><img alt="avatar" src="images/avatar/3.jpg"></span>
                                <span class="message media-body">
                                    <span class="name float-left">Cheryl Wheeler</span>
                                    <span class="time float-right">10 minutes ago</span>
                                        <p>Hello, this is an example msg</p>
                                </span>
                            </a>
                            <a class="dropdown-item media bg-flat-color-3" href="#">
                                <span class="photo media-left"><img alt="avatar" src="images/avatar/4.jpg"></span>
                                <span class="message media-body">
                                    <span class="name float-left">Rachel Santos</span>
                                    <span class="time float-right">15 minutes ago</span>
                                        <p>Lorem ipsum dolor sit amet, consectetur</p>
                                </span>
                            </a>
                          </div>
                        </div>
-->
                    </div>
                </div>

                <div class="col-sm-5">
                    <div class="user-area dropdown float-right">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="user-avatar rounded-circle" src="images/admin.jpg" alt="User Avatar">
                        </a>

                        <div class="user-menu dropdown-menu">
                            <a class="nav-link" href="#"><i class="fa fa- user"></i>My Profile</a>

                            <a class="nav-link" href="#"><i class="fa fa-power -off"></i>Logout</a>
                        </div>
                    </div>

                    <!--
                    <div class="language-select dropdown" id="language-select">
                        <a class="dropdown-toggle" href="#" data-toggle="dropdown"  id="language" aria-haspopup="true" aria-expanded="true">
                            <i class="flag-icon flag-icon-us"></i>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="language" >
                            <div class="dropdown-item">
                                <span class="flag-icon flag-icon-fr"></span>
                            </div>
                            <div class="dropdown-item">
                                <i class="flag-icon flag-icon-es"></i>
                            </div>
                            <div class="dropdown-item">
                                <i class="flag-icon flag-icon-us"></i>
                            </div>
                            <div class="dropdown-item">
                                <i class="flag-icon flag-icon-it"></i>
                            </div>
                        </div>
                    </div>
-->

                </div>
            </div>
            

        </header><!-- /header -->
        <!-- Header-->
        
        
        
        <div class="container">

 <!-- <div class="row">  -->


<!-- <div class="col-md-offset-2 col-md-8"> -->

     
	
    <div class="panel">
      <div class="panel-heading custom-header-panel">
          <h5 class="panel-title roboto">Challan Search</h3>
          <h5 class="panel-title roboto" style="float:right" id="msg"></h5>
      </div>
    <div class="panel-body">
  
  
  
   <!-- ============================================ delivary challan Search =================================================== -->

					<form class="needs-validation" novalidate>
						    
						    <div class="row">
						    
						    
						    <div class="col-2">
						 <div class="form-group">
							<label for="ownerType" class="control-label mb-1">Owner Type</label>
							 <select name="ownerType" id="ownerType" class="form-control" aria-required="true" aria-invalid="false"required>															
								<!--  <option value=" ">Choose Type</option>-->
									<option th:each="type:${ownerTypeList}"
											th:value="${type.orderOwnerTypeId}"
											th:utext="${type.orderOwnerTypeName}"
																				
											/>
																				
							 </select>
						  </div>
					 </div>
					 
					 
					 <div class="col-2">
						 <div class="form-group">
							<label for="owner" class="control-label mb-1">Buyer/Other</label>
								<select name="owner" id="owner" class="form-control" placeholder="Select" >
									<option value=" "> Select Buyer</option>
										 <!-- 	<option th:each="owner:${ownerList}"
												th:value="${owner.orderOwnerId}"
												th:utext="${owner.ownerName}"
													
										/>-->
								</select>
							</div>
						</div>
						
					<!--  	<div class="col-2">
						 <div class="form-group">
							<label for="owner" class="control-label mb-1">Order Type<spna style="color:red">*</spna></label>
								<select name="orderTypeId" id="orderTypeId" class="form-control" placeholder="Select" >
									<option value="2"> Inquiry</option>
									<option value="1"> Work Order</option>
										
								</select>
							</div>
						</div> -->
						
						
								    <div class="col-2">
										 <div class="form-group">
											<label for="owner" class="control-label mb-1">PO Id</label>
											<input type="text" id="poId" class="form-control" placeholder="PO Id">	
											</div>
										</div>
									
									 <div class="col-2">
										 <div class="form-group">
											<label for="owner" class="control-label mb-1">Work Order Id</label>
											<input type="text" id="orderIdSearch" class="form-control" placeholder="Work Order Id">	
											</div>
										</div>
										
										
										<div class="col-2">
										<div class="form-group">
											<label>Production From</label>
											<input type="date" class="form-control" id="searchStartDate" name="start_date">
										</div>
									</div>
									
									
									<div class="col-2">
										<div class="form-group">
											<label>Production To</label>
											<input type="date" class="form-control" id="searchEndDate" name="end_date">
										</div>
									</div>
									
	                                  
	                             </div> 
	                             
	                                
	                             <div class="row">
	                                  
	                                 			     
							
									
									
									
									<div class="col-1">
										<div class="form-group">
											<label>Challan</label>
											<div class="custom-control custom-checkbox">
												<input type="checkbox" class="custom-control-input" id="challanStatus">
												<label class="custom-control-label" for="challanStatus"></label>
											</div>
										</div>
									</div>
									
									 <div class="col-2">
										<div class="form-group">
											<label>Delivary Challan No </label>
											<input type="text" class="form-control" id="deliveryChallanNo" placeholder="Deli. Chal. No" name="">
										</div>
									</div>
									
									
									<div class="col-2">
										<div class="form-group">
											<label>Vehicle Driver Name </label>
											<input type="text" class="form-control" id="driverName" placeholder="Vehi. Driver Name" name="">
										</div>
									</div>
									
								 
									<div class="col-2">
										<div class="form-group">
											<label>Challan From</label>
											<input type="date" name="challan_start_date" id="challanFrom" class="form-control" >
										</div>
									</div>
									
									<div class="col-2">
										<div class="form-group">
											<label>Challan To</label>
											<input name="challan_end_date" type="date" id="challanTo" class="form-control">
										</div>
									</div>
									
									<div class="col-3">
									    <div class="form-group">
											<label></label>
											<a class="btn btn-primary" id="btnsearch"  style="margin-top: 24px;">Search</a>
											<a class="btn btn-primary" th:href="@{/deliveryChallanController/init}" style="margin-top: 24px;">Refresh</a>
										</div>
									</div>
									
						</div>
									
					</form>											
					
	  <!-- ============================================ delivary challan Search end =================================================== -->		
	  
	    <!-- ============================================ search Table Data =================================================== -->				
				
				
				 <h5> Select </h5>
				<div class="form-group">
				           <select  name="state" id="maxRows" class="form-control" style="width:150px;">
									<option value="5000">Show ALL</option>
						 <option value="5">5</option>
						 <option value="10">10</option>
						 <option value="15">15</option>
						 <option value="20">20</option>
						 <option value="50">50</option>
						 <option value="70">70</option>
						 <option value="100">100</option>
				          </select>
				</div>
							
				<div class="row">
					<div class="col-lg-12">
						<div class="card" style="width: 1070px; overflow-x: scroll">
							<div class="card-header">
								<strong class="card-title">Search Result </strong>
							</div>
							<div class="card-body">
								<table id="challanSearchTable" class="table table-striped table-bordered display nowrap" style="min-width:100%">
									<thead>
										<tr>
											<!--  <th scope="col">Order Type</th>
											<th scope="col">Select</th>-->
											<th scope="col">WorkOrder Id</th>
											<!--  <th scope="col">Challan Id</th>
											<th scope="col">Challan Date</th>-->
											<th scope="col">Buyer Name</th>
											<th scope="col">Item Name</th>	
											<th scope="col">PO Mst Id</th>
											<th scope="col">PO Qty</th>										
											<th scope="col">Production Qty</th>
											<th scope="col">UOM Name</th>
											<th scope="col">Previous Challan Qty</th>
											<th scope="col">Balance Qty</th>
											<th scope="col">Preview</th>
											<th scope="col">Ad Challan</th>
										</tr>
									</thead>
									
									

								</table>
								
								
								<div class="pagination-container" style="float:right" >
	           			
	           			    <ul id="challanSearchTableP" class="pagination"></ul>
				        
				                 </div>
					
					         <!--    <div class="col-2">
	                                  <div class="form-group">
	                                      <label></label>
	                                           <a href="" type="button" id="saveData" class=" btn btn-success" style="float:right">
	  													Save
						                        </a>								
	                                  </div>
	                            </div>   --> 
	                            
	                            

							</div>

						</div>
					</div>
				</div>
			 <!-- ============================================ search Table Data =================================================== -->
			     
			<!--       <div class="row">
			     			     			    
			              <div class="col-1">
                            <div class="form-group">
                                
                                
                                <input type="button" value="Add Challan" id="addData" class="btn btn-primary" data-toggle="modal" data-target="#challanModal"> 
                           
                     

                            </div>
			   
			    </div>  
			    
			    -->
			    
			 
			  <!-- ============================================ Challan Table Data =================================================== -->				
							
				<div class="row">
					<div class="col-lg-12">
						<div class="card" style="width: 1070px; overflow-x: scroll">
							<div class="card-header">
								<strong class="card-title">Challan Table </strong>
							</div>
							<div class="card-body">
								<table id="challanTable" class="table table-striped table-bordered display nowrap" style="min-width:100%">
									<thead>
										<tr>
											<!--  <th scope="col">Order Type</th>-->
											<th scope="col">Deliver Challan Id</th>
											<th scope="col">Challan No</th>
											<th scope="col">Challan Date</th>
											<th scope="col">Item Name</th>
											<th scope="col">PO Mst Id</th>
											<th scope="col">Challan Qty</th>											
											<th scope="col">UOM Name</th>
											<th scope="col">Description And Remarks</th>
											<th scope="col">Size</th>
											<th scope="col">Grade</th>
											<th scope="col">Deliver Date</th>
											<th scope="col">Delivered By</th>
											<th scope="col">Action</th> 
										</tr>
									</thead>
									
									

								</table>
								
								
								<div class="col-10">
					            </div>
					
					         <!--    <div class="col-2">
	                                  <div class="form-group">
	                                      <label></label>
	                                           <a href="" type="button" id="saveData" class=" btn btn-success" style="float:right">
	  													Save
						                        </a>								
	                                  </div>
	                            </div>   --> 
	                            
	                            

							</div>

						</div>
					</div>
				</div>
			 <!-- ============================================ search Table Data =================================================== -->	
  

        </div>   <!-- <div class="panel-body">  -->



                   </div>   <!-- <div class="panel">  -->
                     
                     

                </div>

            </div>
            
            
            
             <!--=====================================================================
				challan ad modal
=====================================================================-->
	<div class="modal fade" id="challanModal" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content" style="z-index: 1000000000000">
				<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Deliver Challan</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form novalidate="novalidate">

						<div class="row">
							<div class="col-md-3">
				        		<div class="form-group">
				        			<label class="labelcontrol">Deliver Challan ID</label>
				        			<input name="challanId" id="pimstid" type="text" class="form-control" aria-required="true" aria-invalid="false" placeholder="Id"readonly>
				        			</div>
				        		</div>
							<div class="col-md-3">
				        		<div class="form-group">
				        			<label class="labelcontrol">Challan No<span style="color:red">*</span></label>
				        			<input name="" id="challanNo" type="text" class="form-control" placeholder="Challan No"  required>
				        		</div>
				        	</div>
			
				        	
				        	<div class="col-3">
										<div class="form-group">
											<label>Challan Date<span style="color:red">*</span></label>
											<input type="date" class="form-control" id="challanDate" name="challanDate" required>
										</div>
							</div>
							
							
							<div class="col-md-3">
				        		<div class="form-group">
				        			<label class="labelcontrol">Item Name</label>
				        			<input name="" id="itemName" type="text" class="form-control" placeholder="Item Name"  readonly>
				        		</div>
				        	</div>
				        	
				        	<div class="col-md-3" hidden>
				        		<div class="form-group">
				        			<label class="labelcontrol">Item Id</label>
				        			<input name="" id="itemId" type="text" class="form-control" placeholder="Item Id"  readonly>
				        		</div>
				        	</div>
							
							
				   
						</div>

						<div class="row">
						
						 <div class="col-3">
						 <div class="form-group">
							<label for="buyerType" class="control-label mb-1">PO Mst Id</label>
							 <input type=text id ="pOMstId" class="form-control"  readonly />
						  </div>
					   </div>
					 
					 
					 <div class="col-2">
						 <div class="form-group">
							<label for="challanQty" class="control-label mb-1">Challan Qty<span style="color:red">*</span></label>
								<input type="number" id ="challanQty" class="form-control" required>
							</div>
						</div>
						
						 <div class="col-3">
						 <div class="form-group">
							<label for="buyerType" class="control-label mb-1">UOM Name</label>
							 <input type=text id ="uomName" class="form-control"  readonly />
						  </div>
					   </div>
					   
					   <div class="col-3" hidden>
						 <div class="form-group">
							<label for="buyerType" class="control-label mb-1">UOM Id</label>
							 <input type=text id ="uomId" class="form-control"  readonly />
						  </div>
					   </div>
					   
					    <div class="col-2">
						 <div class="form-group">
							<label for="size" class="control-label mb-1">Size<span style="color:red">*</span></label>
								<input type=text id ="size" class="form-control" placeholder="Size" required>
							</div>
						</div>
						
						<div class="col-2">
						 <div class="form-group">
							<label for="challanQty" class="control-label mb-1">Grade<span style="color:red">*</span></label>
								<input type=text id ="grade" class="form-control" placeholder="Grade" required>
							</div>
						</div>
						 
						 </div>
						 
						 
						 <div class="row">
						 	
				        	<div class="col-3">
								<div class="form-group">
									<label class="control-label mb-1">Remarks</label>
										<textarea placeholder="Type your remarks here..." name="remarks"
			                            class="form-control" rows="2" id="remarks"  ></textarea>
								</div>
							</div>
							
							
							<div class="col-3">
										<div class="form-group">
											<label>Deliver Date<span style="color:red">*</span></label>
											<input type="date" class="form-control" id="deliverDate" name="deliverDate"  required>
										</div>
							</div>
							
							<div class="col-3">
										<div class="form-group">
											<label>Delivered By<span style="color:red">*</span></label>
											<select name="user" id="deliveredBy"  class="form-control" placeholder="Select" required>
						                       <option > Select User</option>																				
												<option th:each="u:${userList}"
														th:value="${u.userId}"
														th:utext="${u.userName}"																			
												   /> 
												</select>
										</div>
							</div>
								
				        	
				        	<div class="col-1">
									<div class="form-group">
										<label class="control-label mb-1">Active</label>
														<!-- Default checked -->
										<div class="custom-control custom-checkbox">
											  <input type="checkbox" class="custom-control-input" id="status" name ="active" checked>
											<label class="custom-control-label" for="status"></label>
										</div>
														<!--<input type="checkbox" class="form-control" aria-required="true" aria-invalid="false" th:field="*{active}"-->
									</div>
								</div>
				        	
						</div>
				
					<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Description</h5>
					<!--  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>-->
				    </div>
				    
				    <div class="row"> 
				         
				         <div class="col-12">
								<div class="form-group">
									<center><label class="control-label mb-1">Description</label></center>
										<textarea rows="8" placeholder="Description Here..."  
										
										 name="termscon"
			                            class="form-control"  id="description"></textarea>
								</div>
							</div>
				    
				    </div>
					
						<div class="modal-footer">
							<div class="row">
								<div class="col-12">
									<input type="button" id="saveChallan"  value="Save" class="btn btn-primary" >
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
								</div>
							</div>

						</div>

					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- ========================================End modal====================================== -->
	
		 <!--=====================================================================
				view modal
=====================================================================-->
	<div class="modal fade" id="viewModal" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content" style="z-index: 1000000000000">
				<div class="modal-header">
					<h5 class="modal-title" id="viewModal">Deliver Challan</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form novalidate="novalidate">

					<div class="row">
							 
				
						
							 
							 <div class="col-8">
								<div class="form-group">
									<label class="control-label mb-1">Remarks</label>
										<textarea placeholder="Type your remarks here..." name="remarks"
			                            class="form-control" rows="5" cols="50" id="viewRemarks"  readonly ></textarea>
								</div>
							</div>	
							
							<div class="col-2">
									<div class="form-group">
										<label class="control-label mb-1">Active Status</label>
														<!-- Default checked -->
										<div class="custom-control custom-checkbox">
											  <input type="checkbox" class="custom-control-input" id="viewStatus" name ="active" readonly>
											<label class="custom-control-label" for="status"></label>
										</div>
														<!--<input type="checkbox" class="form-control" aria-required="true" aria-invalid="false" th:field="*{active}"-->
									</div>
					    </div>
				        	
				        	
				        	
						</div>
				
					<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Description</h5>
					<!--  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>-->
				    </div>
				    
				    <div class="row"> 
				         
				         <div class="col-12">
								<div class="form-group">
									<center><label class="control-label mb-1">Description</label></center>
										<textarea rows="8" placeholder="Description Here..."  
										
										 name="termscon"
			                            class="form-control"  id="viewDescription" readonly></textarea>
								</div>
							</div>
				    
				    </div>
					

					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- ========================================End modal====================================== -->
	
	
	
	<!--=====================================================================
				challan edit modal
=====================================================================-->
	<div class="modal fade" id="challanModal1" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content" style="z-index: 1000000000000">
				<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Deliver Challan Edit</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form novalidate="novalidate">

						<div class="row">
							<div class="col-md-3">
				        		<div class="form-group">
				        			<label class="labelcontrol">Deliver Challan ID</label>
				        			<input name="editChallanId" id="editChallanId" type="text" class="form-control" aria-required="true" aria-invalid="false" placeholder="Id"readonly>
				        			</div>
				        		</div>
							<div class="col-md-3">
				        		<div class="form-group">
				        			<label class="labelcontrol">Challan No</label>
				        			<input name="" id="editChallanNo" type="text" class="form-control" placeholder="Challan No"  required>
				        		</div>
				        	</div>
			
				        	
				        	<div class="col-3">
										<div class="form-group">
											<label>Challan Date</label>
											<input type="date" class="form-control" id="editChallanDate" name="challanDate">
										</div>
							</div>
							
							
							<div class="col-md-3">
				        		<div class="form-group">
				        			<label class="labelcontrol">Item Name</label>
				        			<input name="" id="editItemName" type="text" class="form-control" placeholder="Item Name"  readonly>
				        		</div>
				        	</div>
				        	
				        	<div class="col-md-3" hidden>
				        		<div class="form-group">
				        			<label class="labelcontrol">Item Id</label>
				        			<input name="" id="editItemId" type="text" class="form-control" placeholder="Item Id"  readonly>
				        		</div>
				        	</div>
							
							
				   
						</div>

						<div class="row">
						
						 <div class="col-3">
						 <div class="form-group">
							<label for="buyerType" class="control-label mb-1">PO Mst Id</label>
							 <input type=text id ="editPOMstId" class="form-control"  readonly />
						  </div>
					   </div>
					 
					 
					 <div class="col-2">
						 <div class="form-group">
							<label for="challanQty" class="control-label mb-1">Challan Qty</label>
								<input type="number" id ="editChallanQty" class="form-control">
							</div>
						</div>
						
						 <div class="col-3">
						 <div class="form-group">
							<label for="buyerType" class="control-label mb-1">UOM Name</label>
							 <input type=text id ="editUOMName" class="form-control"  readonly />
						  </div>
					   </div>
					   
					   <div class="col-3" hidden>
						 <div class="form-group">
							<label for="buyerType" class="control-label mb-1">UOM Id</label>
							 <input type=text id ="editUOMId" class="form-control"  readonly />
						  </div>
					   </div>
					   
					    <div class="col-2">
						 <div class="form-group">
							<label for="size" class="control-label mb-1">Size</label>
								<input type=text id ="editSize" class="form-control" placeholder="Size">
							</div>
						</div>
						
						<div class="col-2">
						 <div class="form-group">
							<label for="challanQty" class="control-label mb-1">Grade</label>
								<input type=text id ="editGrade" class="form-control" placeholder="Grade">
							</div>
						</div>
						 
						 </div>
						 
						 
						 <div class="row">
						 	
				        	<div class="col-3">
								<div class="form-group">
									<label class="control-label mb-1">Remarks</label>
										<textarea placeholder="Type your remarks here..." name="remarks"
			                            class="form-control" rows="2" id="editRemarks"  ></textarea>
								</div>
							</div>
							
							
							<div class="col-3">
										<div class="form-group">
											<label>Deliver Date</label>
											<input type="date" class="form-control" id="editDeliverDate" name="editDeliverDate" >
										</div>
							</div>
							
							<div class="col-3">
										<div class="form-group">
											<label>Delivered By</label>
											<select name="user" id="editDeliveredBy"  class="form-control" placeholder="Select">
						                       <option value=" "> Select User</option>
																				
												<option th:each="u:${userList}"
														th:value="${u.userId}"
														th:utext="${u.userName}"																			
												   /> 
												</select>
										</div>
							</div>
								
				        	
				        	<div class="col-1">
									<div class="form-group">
										<label class="control-label mb-1">Active</label>
														<!-- Default checked -->
										<div class="custom-control custom-checkbox">
											  <input type="checkbox" class="custom-control-input" id="editStatus" name ="active" checked>
											<label class="custom-control-label" for="editStatus"></label>
										</div>
														<!--<input type="checkbox" class="form-control" aria-required="true" aria-invalid="false" th:field="*{active}"-->
									</div>
								</div>
				        	
						</div>
				
					<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Description</h5>
					<!--  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>-->
				    </div>
				    
				    <div class="row"> 
				         
				         <div class="col-12">
								<div class="form-group">
									<center><label class="control-label mb-1">Description</label></center>
										<textarea rows="8" placeholder="Description Here..."  
										
										 name="termscon"
			                            class="form-control"  id="editDescription"></textarea>
								</div>
							</div>
				    
				    </div>
					
						<div class="modal-footer">
							<div class="row">
								<div class="col-12">
									<input type="button" id="editSaveChallan" value="Save" data-dismiss="modal" class="btn btn-primary" >
                                     <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
								</div>
							</div>

						</div>

					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- ========================================End modal====================================== -->
	
	

            
            
            
        
            
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!--    <script type="text/javascript" src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>-->

    <script src="/js/vendor/jquery-2.1.4.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>


    <script src="/js/lib/data-table/datatables.min.js"></script>
    <script src="/js/lib/data-table/dataTables.bootstrap.min.js"></script>
    <script src="/js/lib/data-table/dataTables.buttons.min.js"></script>
    <script src="/js/lib/data-table/buttons.bootstrap.min.js"></script>
    <script src="/js/lib/data-table/jszip.min.js"></script>
    <script src="/js/lib/data-table/pdfmake.min.js"></script>
    <script src="/js/lib/data-table/vfs_fonts.js"></script>
    <script src="/js/lib/data-table/buttons.html5.min.js"></script>
    <script src="/js/lib/data-table/buttons.print.min.js"></script>
    <script src="/js/lib/data-table/buttons.colVis.min.js"></script>
    <script src="/js/lib/data-table/datatables-init.js"></script>
    <script type="text/javascript">
    
   $(document).ready(function() {
        $('#challanSearchTable').DataTable({
            "scrollX": true,
          
        });

   });
    
    $(document).ready(function() {
        $('#challanTable').DataTable({
            "scrollX": true,
          
        });

   });
    
    
    $(document).ready(function() {
        
        $.getJSON("/delivery/challan/inquery/owner", {
            ownerType : $('#ownerType').val(),
            ajax : 'true'
        }, function(data) {
            var html = '<option value=" ">Select Buyer</option>';
            var len = data.length;
            for ( var i = 0; i < len; i++) {
         
                  html += '<option value="' + data[i].orderOwnerId + '">'
                        + data[i].ownerName + '</option>';
            }
            html += '</option>';
            $('#owner').html(html);
        });

// alert('ok');
});

    
         
    
    $('#ownerType').change(
	        function() {
	            $.getJSON("/delivery/challan/inquery/owner", {
	                ownerType : $(this).val(),   
	                ajax : 'true'
	            }, function(data) {
	                var html = '<option value=" ">Select Buyer</option>';
	                var len = data.length;
	                
	                for ( var i = 0; i < len; i++) {
	                    html += '<option value="' + data[i].orderOwnerId + '">'
	                            + data[i].ownerName + '</option>';
	                }
	                html += '</option>';
	                $('#owner').html(html);
	            });
	        }); 
        
      </script>
      
       <!-- ==============================================Search Inquiry Data============================================= -->
          <script>
      
          
         
          
          
          
        	  
         
       
       $(function () {
     	    $('#btnsearch').click(function(e) {
     	    	
     	    	
     	    	 var check=document.getElementById("challanStatus");
     	    	
     	    	if(check.checked==false){
     	    	
     	    	//alert("Searching data");
     	    	
     	    	
     	    	   var formData= { 
     	                   "id" :$("#ownerType").val(),
     	                   "owner" :$("#owner").val(),  
     	                    "workOrderId" :$("#orderIdSearch").val(),
     	                    "startDate" : $("#searchStartDate").val(),
     	                    "endDate" : $("#searchEndDate").val(),
     	                   "pOId" : $("#poId").val()
     	                   
     	                   };
     	    	   
     	    	  $('#challanSearchTable tbody').empty();
     	    	 $('#challanTable tbody').empty();
     	    	  
     	         $.ajax({
                     type : "GET",
                    // url :  "/api/inquiry_search",
                     url:"/deliveryChallanController/workOrder/search",
                     dataType : 'json',
         	         data: formData,
                     success: function(result){
         	     $.each(result, function(i,challan){
         					
         	   
         	        // alert(challan.wOId);
         	         
         	         
         	        var customerRow = '<tr>' +
         	        
         	         
         	          //  '<td class="selectbox text-center" ><input type="checkbox">' + '</td>' +
						'<td class="workOrderId" >' + challan.wOId+ '</td>' + 
						
						'<td class="ownerName" >' + challan.buyerName+ '</td>' + 
						'<td class="itemId" hidden>' + challan.itemId+ '</td>' + 
						'<td class="itemName" >' + challan.itemName+ '</td>' + 
						'<td class="productionId" hidden >' + challan.productionId+ '</td>' +
						'<td class="uOMId" hidden >' + challan.uomId+ '</td>' +	
						'<td class="" >' + challan.gatePassChdId + '</td>' + 
						'<td class="" >' + challan.finishedQty + '</td>' + 
						'<td class="prdouctionQty" >' + challan.productionQty+ '</td>' +
						'<td class="uOMName" >' + challan.uomName+ '</td>' +
						'<td class="" >' + "0" + '</td>' + 
						'<td class="editqty" id="setqty"><input type="text" name="editqty" class="test" value=' + (challan.productionQty) + ' id="editqty" size="3px" readonly/>' + '</td>' + 
						  
						'<td class="preview"> <button class=" btn btn-primary" >Preview</button>' +'</td>'+
						'<td class="add"> <button class=" btn btn-success" data-toggle="modal" data-target="#challanModal" >New</button>' +'</td>'+
						
						//'<td class="removerow"> <button class=" btn btn-danger" >Remove</button>' +'</td>'
								
				  '</tr>';
							  
							  
				
                        $('#challanSearchTable tbody').append(customerRow);
         	      
         					
         		});        // each
         					 
         		},   // end success
         	error : function(e) {
         		alert("ERROR: ", e);
         		console.log("ERROR: ", e);
         			}
         					
         					
                 });   // end ajax
                 
     	    	}  
     	    	
     	    	
     	    	
     	    	else{
     	        	  
     	        	  alert("Searching challan done data.....");
     	        	  
     	        	  
     	        	 var formData= { 
       	                   "id" :$("#ownerType").val(),
       	                   "owner" :$("#owner").val(),  
       	                    "workOrderId" :$("#orderIdSearch").val(),
       	                    "startDate" : $("#searchStartDate").val(),
       	                    "endDate" : $("#searchEndDate").val(),
       	                     "pOId" : $("#poId").val(),
       	                      
       	                     "deliveryChallanNo" : $("#deliveryChallanNo").val(),
       	                     "driverName" : $("#driverName").val(),
       	                     "challanFrom" :$("#challanFrom").val(),
     	                     "challanTo" : $("#challanTo").val()
       	                     
       	                     
       	                   };
     	          }
     	    	  
     	    	
     	    });
       });
           
       
          
          
          
       
          </script>
            
            
           
           
      <!-- ==============================================End===================================================== -->
            
      
         <!-- ==============================================Remove  row from search table=============================================== -->
   
      <script>
      
      
      $("#challanSearchTable").on('click','.removerow',function(){
   	              
    	    WRN_PROFILE_DELETE = "Are you sure you want to delete this row?";  
			var check = confirm(WRN_PROFILE_DELETE); 
			if(check == true){
    		    $(this).closest("tr").remove();    // Find the row
			}
						
			
      });
      </script>
      
      <!-- =================================End here====================================================== -->
      
      
      
      
       <!-- ==============================================Save challan data=============================================== -->
   
      <script>
      
     /* 
      $("#saveData").on('click',function(){
   	              
    	   // alert("Data saving.........");	
    	    
    	   // $("#challanTable tbody tr").each(function(){
    	    	$('#challanSearchTable tr').filter(':has(:checkbox:checked)').each(function() { 
 		  	     
	    		// alert("find table"); 
	    		 
	    	        var tr = $(this).closest('tr');
	    	       
	    	        var itemId = tr.find(".itemId").text();
	    	        var uomId = tr.find(".uOMId").text();
	  		  	    let qty = tr.find('input[name="editqty"]').val();

	        	   alert(qty);
	        	    
	        	   var formData= { 
	        			      "itemId" : itemId,	
	        			      "uomId" : uomId,
	        			      "qty" : qty
	        			      
	        		        };
	     			 
	     	 	 $.ajax({
	     		            type : "POST",	    		           
	     		             url:"/delivery/challan/save",
	     		            dataType : 'json',
	     			        data: formData,
	     		            success: function(result){
	     		            	
	     		            	 
	     		            	
	     		            },
	     		            
	     		         
	     			 });
	        	    
	        	 
	    
	           
	      });
			
      });
    	   
    	   */
      </script>
      
      <!-- =================================End here====================================================== -->
      
      
      
       <!-- ==============================================Get Data When Open Modal=============================================== -->
   
      <script>
      
      
      $("#challanSearchTable").on('click', '.add',function(){
    	   
    	  
    	 // alert("setting your data..................");
    	  
    	  var productionId = $(this).closest('tr').find(".productionId").text();
    	  
    	//  alert("Id :" + productionId);
    	
    	
    	  
    	  
    	     var formData= { 
                   "id" : productionId
                                    
                   };
    	     
    	     
    	     $.ajax({
		            type : "GET",	    		           
		            url:"/deliveryChallanController/production/search/by/id",
		            dataType : 'json',
			        data: formData,
		            success: function(result){
		            	
		            	$.each(result, function(i,challan){
		            		 
		            		// alert(challan.gatePassChdId);
		            		 
		            		document.getElementById("itemName").value=challan.itemName;
		            		document.getElementById("itemId").value=challan.itemId;
		            		document.getElementById("pOMstId").value=challan.gatePassChdId;
		            		document.getElementById("uomName").value=challan.uomName;
		            		document.getElementById("uomId").value=challan.uomId;
		            		 
		            	 });
		            	
		            },
		            
		         
			 });
    	  
      });
       
      </script>
      
      
      <!-- ==================================================End here ==================================================== -->
      
      
      
       <!-- ==============================================Save challan data=============================================== -->
   
      <script>
      
      
      $("#saveChallan").on('click',function(){
    	   
    	  
    	 // alert("Saving your data..................");
    	  
    	  var itemId= document.getElementById('itemId').value;
    	  var pOMstId= document.getElementById('pOMstId').value;
    	  var uOMId= document.getElementById('uomId').value;
    	  var challanNo= document.getElementById('challanNo').value;
    	  var challanDate = document.getElementById("challanDate").value;
    	  var challanQty = document.getElementById("challanQty").value;
    	  var size = document.getElementById("size").value;
    	  var grade = document.getElementById("grade").value;
    	  var remarks = document.getElementById("remarks").value;
    	  var deliverDate = document.getElementById("deliverDate").value;
    	  var deliveredBy = document.getElementById("deliveredBy").value;
    	  var description = document.getElementById("description").value;
    	  
    	  
    	  var active=document.getElementById("status");
    	  
    	  var activeStatus;
    	  
    	  if(active.checked==true){
    		  activeStatus="1";
    	  }
    	  
    	  else{
    		  activeStatus="0";
    	  }
    	  
    	  
    	  var indexCheck1=document.getElementById("deliveredBy");
	    	
 	      var chekcBy=indexCheck1.options[indexCheck1.selectedIndex].text;
 	      
    	  
    	  
    	  if(challanNo=="" || challanQty=="" || size=="" || grade=="" || chekcBy=="Select User"){
    		  
    		  alert("Please fillup all static(*) mark field");
    	  }
    	  
    	//  alert("Saving your data..................");
    	  
    	
    	else{
    	
    	  
    	  var formData= { 
			      "itemId" : itemId,	
			      "pOMstId" : pOMstId,
			      "uOMId" : uOMId,
			      "challanNo" : challanNo,	
			      "challanDate" : challanDate,
			      "challanQty" : challanQty,
			      "size" : size,	
			      "grade" : grade,
			      "remarks" : remarks,
			     "deliverDate" : deliverDate,	
			     "deliveredBy" : deliveredBy,
			      "description" : description,
			      "activeStatus" : activeStatus
			      			      
		        };
    	  
    	  $('#challanTable tbody').empty();
			 
	 	 $.ajax({
		            type : "POST",	    		           
		             url:"/deliverchallancontroller/challan/save",
		            dataType : 'json',
			        data: formData,
		            success: function(result){
		            
		            	$.each(result, function(i,receive){
		            		
		            		
		            		 var customerRow = '<tr>' +
		          	        
								
								'<td class="challanId" >' + receive.deliverChallanId+ '</td>' + 
								'<td class="" >' + receive.challanNo+ '</td>' + 
								'<td class="" >' + receive.challanDate+ '</td>' + 
								'<td class="" >' + receive.itemName+ '</td>' + 
								'<td class="" >' + receive.pOMstId+ '</td>' + 
								'<td class="" >' + receive.challanQty+ '</td>' + 
								'<td class="" >' + receive.uomName+ '</td>' +
								'<td class="view"> <button class=" btn btn-primary" data-toggle="modal" data-target="#viewModal" >View</button>' +'</td>'+
								'<td class="" >' + receive.size + '</td>' +
								'<td class="" >' + receive.grade + '</td>' +
								'<td class="" >' + receive.deliverDate + '</td>' +
								'<td class="" >' + receive.deliveredBy + '</td>' +
								'<td class="edit"> <button class=" btn btn-warning" data-toggle="modal" data-target="#challanModal1">Edit</button>' +'</td>'+
								
								
								'</tr>';
							  
							  
		     				
		                        $('#challanTable tbody').append(customerRow);
								
								
		            	});
		            	
		            			            	
		            },
		            
		         
			 });
	 	 
    	}                     //else function end here
    	  
    	  
      });
       
      </script>
      
      
      <!-- ==================================================End here ==================================================== -->
      
      
      <!-- -=========================================Edit Challan Data================================================== -->
           
           
           
           <script>
           
           $("#challanTable").on('click', '.edit',function(){
        	   
        	  // alert("Data is setting in modal..................");
        	   
        	    var $row = $(this).closest("tr");    // Find the row
  		        var challaId = $row.find(".challanId").text();
        	    
        	  //  alert(challaId);
        	    
        	    var formData= { 
                        "id" : challaId
                                         
                        };
         	     
         	     
         	     $.ajax({
     		            type : "GET",	    		           
     		            url:"/deliveryChallanController/challan/search/by/id",
     		            dataType : 'json',
     			        data: formData,
     		            success: function(result){
     		            	
     		            	$.each(result, function(i,challan){
     		            		 
     		            		// alert(challan.gatePassChdId);
     		            		document.getElementById("editChallanId").value=challan.deliverChallanId;
     		            		document.getElementById("editChallanNo").value=challan.challanNo;
     		            		document.getElementById("editChallanDate").value=challan.challanDate;
     		            		document.getElementById("editItemName").value=challan.itemName;
     		            		document.getElementById("editChallanQty").value=challan.challanQty;
     		            		//document.getElementById("itemId").value=challan.itemId;
     		            		document.getElementById("editPOMstId").value=challan.pOMstId;
     		            		document.getElementById("editUOMName").value=challan.uomName;
     		            		document.getElementById("editSize").value=challan.size;
     		            		document.getElementById("editGrade").value=challan.grade;
     		            		document.getElementById("editRemarks").value=challan.remarks;
     		            		document.getElementById("editDeliverDate").value=challan.deliverDate;
     		            		document.getElementById("editDeliveredBy").value=challan.userId;
     		            		document.getElementById("editDescription").value=challan.description;
     		            		
     		            		var active=challan.status;
     		            		var status= document.getElementById("editStatus");
     		            		
     		            		//alert(active);
     		            		
     		            		if(active==1){
     		            			status.checked=true;
     		            		}
     		            		else{
     		            			status.checked=false;
     		            		}
     		            		 
     		            	 });
     		            	
     		            },
     		            
     		         
     			 });
         	     
         	             	     
  		       
        	   
           });
           
           </script>
           
           
           
      <!-- ===============================================End======================================================== -->
      
      <!-- ==============================================Edit challan Save=================================== -->
         
         <script>
          
         $("#editSaveChallan").on('click',function(){
      	   
        	 
        //	 alert("test");
        	 
        	  var challanId= document.getElementById('editChallanId').value; 
        	  var challanNo= document.getElementById('editChallanNo').value;
        	  var challanDate = document.getElementById('editChallanDate').value;
        	  var challanQty = document.getElementById('editChallanQty').value;
        	  var description = document.getElementById("editDescription").value;
        	  var grade = document.getElementById('editGrade').value;
        	  var size = document.getElementById('editSize').value;
        	  var deliverDate = document.getElementById('editDeliverDate').value;
        	   var remarks = document.getElementById('editRemarks').value;
        	
        	 var deliveredBy = document.getElementById('editDeliveredBy').value;
        	 
        	  
        	  var active=document.getElementById("editStatus");
        	  
        	  var activeStatus;
        	  
        	  if(active.checked==true){
        		  activeStatus="1";
        	 }
        	  
        	  else{
        		  activeStatus="0";
        	  }
        	  
        	// alert(deliverDate);
        	  
        	  
        	  var formData= { 
    			     
    			      "challanNo" : challanNo,	
    			      "challanDate" : challanDate,
    			      "challanQty" : challanQty,
    			      "description" : description,
    			      "size" : size,	
    			      "grade" : grade,
    			      "deliverDate" : deliverDate,
    			      "deliveredBy" : deliveredBy,
    			      "remarks" : remarks,
    			      "active" : activeStatus,
    			       "challanId" : challanId
    			      			      
    		        };
        	  
        	  $('#challanTable tbody').empty();
    			 
    	 	 $.ajax({
    		            type : "POST",	    		           
    		             url:"/challan/edit/save",
    		            dataType : 'json',
    			        data: formData,
    		            success: function(result){
    		            
    		            	$.each(result, function(i,receive){
    		            		
    		            		 var customerRow = '<tr>' +
    			          	        
 								
 								'<td class="challanId" >' + receive.deliverChallanId+ '</td>' + 
 								'<td class="" >' + receive.challanNo+ '</td>' + 
 								'<td class="" >' + receive.challanDate+ '</td>' + 
 								'<td class="" >' + receive.itemName+ '</td>' + 
 								'<td class="" >' + receive.pOMstId+ '</td>' + 
 								'<td class="" >' + receive.challanQty+ '</td>' + 
 								'<td class="" >' + receive.uomName+ '</td>' +
 								'<td class="view"> <button class=" btn btn-primary" data-toggle="modal" data-target="#viewModal" >View</button>' +'</td>'+
 								'<td class="" >' + receive.size + '</td>' +
 								'<td class="" >' + receive.grade + '</td>' +
 								'<td class="" >' + receive.deliverDate + '</td>' +
 								'<td class="" >' + receive.deliveredBy + '</td>' +
 								'<td class="edit"> <button class=" btn btn-warning" data-toggle="modal" data-target="#challanModal1">Edit</button>' +'</td>'+
 								
 								
 								'</tr>';
 							  
 							  
 		     				
 		                        $('#challanTable tbody').append(customerRow);

    								
    		            	});
    		            	 
    		            	
    		            },
    		            
    		         
    			 });
    	 	 
    	 	
        	  
        	  
          });
           
          </script>
         
         
         
      <!-- ======================================================End========================================= -->
      
      
       <!-- ==============================================Preivew function=============================================== -->
   
      <script>
      
      
      $("#challanSearchTable").on('click','.preview',function(){
   	              
    	    alert("Preview is not available now");	
			
      });
      
      
      $("#challanTable").on('click','.view',function(){
             
    	  var tr = $(this).closest('tr');
          
          var challanId = tr.find(".challanId").text();
          
          var formData= { 
                   "id" :challanId
                };
          
          $.ajax({
              type : "GET",
             // url :  "/api/inquiry_search",
              url:"/deliveryChallanController/challan/search/by/id",
              dataType : 'json',
  	         data: formData,
              success: function(result){
  	     $.each(result, function(i,challan){
  					
      		document.getElementById("viewRemarks").value=challan.remarks;
      		document.getElementById("viewDescription").value=challan.description;
      		
      		var active=challan.status;
      		var status= document.getElementById("viewStatus");
      		
      		//alert(active);
      		
      		if(active==1){
      			status.checked=true;
      		}
      		else{
      			status.checked=false;
      		}
  	      
  					
  		});        // each
  					 
  		},   // end success
  	error : function(e) {
  		alert("ERROR: ", e);
  		console.log("ERROR: ", e);
  			}
  					
  					
          });   // end ajax
			
    });
      
     
      </script>
      
      <!-- =================================End here====================================================== -->
      
      
       <script type="text/javascript" th:inline="javascript">
		
		var now = new Date();
		var day = ("0" + now.getDate()).slice(-2);
		var month = ("0" + (now.getMonth() + 1)).slice(-2);
	
	    var today = now.getFullYear()+"-"+(month)+"-"+(day) ;
	    
	    document.getElementById('searchEndDate').value = today;
	    document.getElementById('challanTo').value = today;
	    document.getElementById('challanDate').value = today;
	    document.getElementById('deliverDate').value = today;
       
	</script>
	
	
	<!--pagination  Script-->
	<script>
	
	var table='#challanSearchTable';
	
	
	  $('#maxRows').on('change',function(){
	
	$('.pagination').html('');
	
	var trnum =0;
	var maxRows =parseInt($(this).val());
	var  totalRows=$(table+' tbody tr').length;
	
	$(table+' tr:gt(0)').each(function(e) {
	
	              trnum++;
	              
	              if(trnum > maxRows)
	              {
	                 $(this).hide();
	              }
	              if(trnum <= maxRows)
	              {
	                 $(this).show();
	              }
	    
	
	
	});   //each function
	
	 if(totalRows > maxRows)
	              {
	              
	              
	              var pagenum =Math.ceil(totalRows/maxRows);
	              
	              for(var i=1;i<=pagenum;)
	              {
	                 $('#challanSearchTableP').append('<li class="btn-sm" data-page="'+i+'">\<span>'+ i++ +'</span></li>').show();
	              }  //for
	                
	              }   //if
	              
	              
	              $('.pagination li:first-child').addClass('active');
	             $('.pagination li').on('click',function(){
	             
	             var pageNum =  $(this).attr('data-page');
	             var trIndex= 0;
	             
	             $('.pagination li').removeClass('active');
	              $(this).addClass('active');
	             $(table+' tr:gt(0)').each(function(e) {
	             
	                trIndex++;
	                if(trIndex >(maxRows*pageNum) || trIndex<=((maxRows*pageNum)-maxRows))
	                {
	                    $(this).hide();
	                }
	                else
	                {
	                $(this).show();
	                }
	             
	             
	             
	                }); // each function
	             
	             });  //  click function
	             
	             
	      });   //on change function
	             
	  
	/*             
	    $(function () {
	    
	    
	               $('table tr:gt(0)').prepend('<th>ID</th>');
	               
	               var id = 0;
	               
	               
	               $('table tr:gt(0)').each(function(e) {
	               
	               id++;
	               
	                $(this).prepend('<th>'+id+'</th>');
	               
	               
	              }); // each function
	    
	    });
	    
	*/    
	            
</script>
      
            
</body>

</html>