<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Cost Calculation Info</title>
    <meta name="description" content="Sufee Admin - HTML5 Admin Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">

   

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/themify-icons.css">
    <link rel="stylesheet" href="/css/flag-icon.min.css">
    <link rel="stylesheet" href="/css/cs-skin-elastic.css">
    <link rel="stylesheet" href="/css/lib/datatable/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="/scss/style.css">

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>

   
       

    <style type="text/css">
       
       #calculate{
     display:none;
     }
    
        .modal-backdrop.show {
            display: none;
        }

        .modal-backdrop.fade {
            display: none;
        }

/*
        div.dataTables_wrapper {
            width: 100%;
        }
*/
		.selected{
			background-color: #eee;
			color: #000;
		}
		
		.dataTables_length, .dataTables_filter {
			display: none !important;
		}
    </style>
    
    
    <style>
.custom-header-panel{
    background-color: #004b8e !important;
    border-color: #004b8e !important;
    color: white;
}


.panel {
  padding: 15px;
  margin-bottom: 20px;
  background-color: #ffffff;
  border: 1px solid #dddddd;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}

.panel-heading {
  padding: 10px 15px;
  margin: -15px -15px 15px;
  font-size: 17.5px;
  font-weight: 500;      
  background-color: #f5f5f5;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}

.panel-footer {
  padding: 10px 15px;
  margin: 15px -15px -15px;
  background-color: #f5f5f5;
  border-top: 1px solid #dddddd;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
} 

.panel-primary {
  border-color: #428bca;
}

.panel-primary .panel-heading {
  color: #ffffff;
  background-color: #428bca;
  border-color: #428bca;
}
/* This kinda of works but now 
.panel, .panel-group .panel-heading+.panel-collapse>.panel-body{
    border: none;
}
*/
.card-header{
    /* background-color: #004b8e !important; */
    background-color: #004b8e !important;
    border-color: #004b8e !important;
    color: white;

    padding: 10px 15px;
  /*margin: -15px -15px 15px; */

  font-size: 17.5px;
  font-weight: 500;      
  background-color: #f5f5f5;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}


 <style type="text/css">
       
       #calculate{
      display:none;
     }
    
        .modal-backdrop.show {
            display: none;
        }

        .modal-backdrop.fade {
            display: none;
        }

/*
        div.dataTables_wrapper {
            width: 100%;
        }
*/
		.selected{
			background-color: #eee;
			color: #000;
		}
		
		.dataTables_length, .dataTables_filter {
			display: none !important;
		}
		
		.designId {
         background-color: rgba(128,128,128,.25);
       }
    </style>

</head>

<body>
    <!-- Left Panel -->

	<aside id="left-panel" class="left-panel">
		<nav class="navbar navbar-expand-sm navbar-default">

			<div class="navbar-header">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
					<i class="fa fa-bars"></i>
				</button>
				<a class="navbar-brand" href="./">MLFM</a>
				<a class="navbar-brand hidden" href="./">BD</a>
			</div>

			<div id="main-menu" class="main-menu collapse navbar-collapse">
				<ul class="nav navbar-nav">
				
			
                
   <li class="menu-item-has-children dropdown" >
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               <i class="menu-icon fa fa-laptop"></i>    Set Up
          </a>
        
       <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown" >
             <li th:each="s:${listModelUserObjectSetup}" 
                   th:value="${s.userObjectId}">
            <a class="dropdown-item" th:href="@{${s.modelObject.filePath}+'/'+${s.modelUser.userId}}" >
               
                    <span th:utext="${s.modelObject.objectName}">
                   </span>
                </a>
            </li>
          
        </ul>
        
   </li>
   
      
	 <li class="menu-item-has-children dropdown">
     
       <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="menu-icon fa fa-laptop"></i> Transaction
        </a>
        
           <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown">
              <li th:each="t:${listModelUserObjectTransaction}"
                   th:value="${t.userObjectId}">
                   
                   <a class="dropdown-item" th:href="@{${t.modelObject.filePath}+'/'+${t.modelUser.userId}}" >
                 
                         <span th:utext="${t.modelObject.objectName}">
                         </span>
                      </a>
              </li>
          </ul>
      </li>			
				
        	
		   	
		<li class="menu-item-has-children dropdown">
     
             <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="menu-icon fa fa-laptop"></i>   Tools
             </a>
        
            <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown">
                <li th:each="u:${listModelUserObjectTool}"
                     th:value="${u.userObjectId}">
                     
                           <a class="dropdown-item" th:href="@{${u.modelObject.filePath}+'/'+${u.modelUser.userId}}" >
                 
                    <span th:utext="${u.modelObject.objectName}">
                    </span>
                 </a>
               </li>
          
            </ul>
       </li>	


		<li class="menu-item-has-children dropdown">
     
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="menu-icon fa fa-laptop"></i> Report
              </a>
        
              <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown">
                   <li th:each="r:${listModelUserObjectReport}"
                        th:value="${r.userObjectId}">
                        <a class="dropdown-item" th:href="@{${r.modelObject.filePath}+'/'+${r.modelUser.userId}}" >
                     <!--  <a class="dropdown-item" th:href="${r.modelObject.filePath}"> -->
                           <span th:utext="${r.modelObject.objectName}">
                           </span>
                       </a>
                   </li>
          
              </ul>
        </li>	
					
					
					
	             </ul>
			</div>
		</nav>
	</aside>



	<!-- Left Panel -->

    <!-- Right Panel -->

    <div id="" class="right-panel">

        <!-- Header-->
		<header id="header" class="header">

			<div class="header-menu">
<!--
				<div class="col-sm-4">
					<a id="menuToggle" class="menutoggle pull-left"><i class="fa fa fa-tasks"></i></a>
					<div class="header-left">
						<button class="search-trigger"><i class="fa fa-search"></i></button>
						<div class="form-inline">
							<form class="search-form">
								<input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
								<button class="search-close" type="submit"><i class="fa fa-close"></i></button>
							</form>
						</div>

					</div>
				</div>
-->
		<!--
				<div class="col-sm-5">
					<div class="user-area dropdown float-right">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="user-avatar rounded-circle" src="images/admin.jpg" alt="User Avatar">
                        </a>

						<div class="user-menu dropdown-menu">
							<a class="nav-link" href="#"><i class="fa fa- user"></i>My Profile</a>
							
							<input type="text" class="nav-link" th:value="${userId}" id="accessUserId" readonly>

							<a class="nav-link" href="/logoncontroller/init"><i class="fa fa-power -off"></i>Logout</a>
						</div>
					</div>
                </div>
         -->       
                  
                        <div class="col-sm-4 text-right" >
                         
                      </div> 
               
                      <div class="col-sm-8 text-right" >
                          
                           <a class="nav-link" href="/logoncontroller/init"  style="float:right;" ><i class="fa fa-power -off"></i>Logout</a>
                            <span class="nav-link" th:text="${name}"readonly style="color: black; float:right; padding-left:5px;"></span>  
                            <span class="nav-link" style="color: black; float:right; padding-right:0px;">User : </span>  
                           
                          
                         
                       </div>
                 
			</div>

		</header><!-- /header -->
		<!-- Header-->
        
        <div class="container">

 <!-- <div class="row">  -->


<!-- <div class="col-md-offset-2 col-md-8"> -->
	
    <div class="panel">
      <div class="panel-heading custom-header-panel">
          <h5 class="panel-title roboto">Search Cost Info</h3>
      </div>
  <div class="panel-body">



  <!-- <h3> Patient Registration </h3>   -->
  
  
                   <form action="" method="post" class="needs-validation" novalidate>
						<div class="row">
							<div class="col-12">
								<div class="row">
									 <div class="col-2">
											 <div class="form-group">
												<label for="ownerType" class="control-label mb-1">Owner Type</label>
												 <select name="ownerType" id="ownerType" class="form-control" aria-required="true" aria-invalid="false"required>															
												<!--  	<option value=" ">Choose Type</option> -->
														<option th:each="type:${ownerTypeList}"
																th:value="${type.orderOwnerTypeId}"
																th:utext="${type.orderOwnerTypeName}"
																									
																/>
																									
												 </select>
											  </div>
										 </div>
									<div class="col-2">
											 <div class="form-group">
												<label for="owner" class="control-label mb-1">Buyer</label>
													<select name="owner" id="owner" class="form-control" placeholder="Select" >
														<option value=" "> Select Buyer</option>
															 <!-- 	<option th:each="owner:${ownerList}"
																	th:value="${owner.orderOwnerId}"
																	th:utext="${owner.ownerName}"
																		
															/>-->
													</select>
												</div>
											</div>
									 <div class="col-2">
											<div class="form-group">
												<label for="ultimateOwner" class="control-label mb-1">Ultimate Buyer</label>
													<select  id="ultimateOwner" name="ultimateOwner" class="form-control" placeholder="Select">
														<option value=" "> Select Ultimate Buyer</option>
															<option th:each="owner:${ownerList}"
																th:value="${owner.ownerName}"
																
																	th:text="|${owner.ownerName} ( ${owner.orderOwnerType.orderOwnerTypeName} )|"
																									
																	/>
																									
													</select>
											 </div>
										 </div>
									 <div class="col-2">
											<div class="form-group">
												<label for="inqid" class="control-label mb-1">Inquiry Id</label>
													<input type="text" class="form-control" value="" id="inqid" name="inqid" placeholder="Inq. Id">
											 </div>
									 </div>
									 
									 <div class="col-2">
											<div class="form-group">
												<label for="designid" class="control-label mb-1">Design Id</label>
													<input type="text" class="form-control" id="designid" name="designid" placeholder="Design Id">
											 </div>
									 </div>
									 
									 <div class="col-2">
											<div class="form-group">
												<label for="definedno" class="control-label mb-1">Design Defined No</label>
													<input type="text" class="form-control" id="definedno" name="definedno" placeholder="Defined No">
											 </div>
									 </div>
			
								    </div>

								<div class="row">
									<div class="col-2">
											<div class="form-group">
												<label for="designname" class="control-label mb-1">Design Name</label>
													<input type="text" class="form-control" id="designname" name="designname" placeholder="Design Name">
											 </div>
									 </div>
									<div class="col-2">
											 <div class="form-group">
												<label for="designBy" class="control-label mb-1">Design By</label>
													<select name="designBy" id="designBy" class="form-control" placeholder="Select" >
														<option value=" "> Select</option>
														<option th:each="u:${userList}"
																th:value="${u.userId}"
																th:utext="${u.userName}"																			
														   /> 																			
 
													</select>
												</div>
											</div>
								     <div class="col-2">
											 <div class="form-group">
												<label for="itemId" class="control-label mb-1">Item</label>
													<select name="itemId" id="itemId" class="form-control" placeholder="Select" >
														<option value="">Select Item</option>
                                                        <option	th:each="itemList:${modelItemList}"
														th:value="${itemList.itemId}"
														th:utext="${itemList.itemName}"/>															 
													</select>
												</div>
											</div>
											
											<div class="col-2">
						<div class="form-group">
							<label  class="control-label mb-1">From Date</label>
									<input type="date" class="form-control" value="0" id="startdate" name="startdate">
						</div>
					  </div>
					  
					  <div class="col-2">
						<div class="form-group">
							<label  class="control-label mb-1">To Date</label>
									<input type="date" class="form-control" id="enddate" name="enddate">
						</div>
					  </div>
									<div class="col-2">
										<div class="form-group">
											<label>Cost calculated?</label>
											<div class="custom-control custom-checkbox">
												<input type="checkbox" class="custom-control-input" id="calculate">
												<label class="custom-control-label" for="calculate"></label>
											</div>
										</div>
									</div>
									<div class="col-2">
                            <div class="form-group">
                                <label for="" class="control-label mb-1"></label>
                                <input style="margin-top: 7px" id="btnsearch" type="submit" value="Search" class="form-control btn-primary btn-sm" aria-required="true" aria-invalid="false" name="" placeholder="Name" >
                            </div>

                       </div>
                       
                       <div class="col-2">
                            <div class="form-group">
                            <label for="" class="control-label mb-1"></label><br/>
                               <a th:href="@{/cost/init}" class="btn btn-primary btn-sm" style="margin-top: 7px" >Refresh</a>
                            </div>

                       </div>
									
								</div>



							</div>
						</div>
					</form>
					
					
					
					<div class="row">

                    <div class="col-12">
                    	<div class="card table-container" style="width: 1070px; overflow-x: scroll">
                    	     <div class="card-header">
								<strong class="card-title">Search Result Table</strong>
							 </div>
							
                    		<div class="card-body">
                    			<table id="searchTable"  class="table table-striped table-bordered display nowrap" style="width:100%">
                                    <thead>
										<tr>
										    <th scope="col">Buyer/Other Name</th>	
											<th scope="col">Inquiry ID</th>
											<th scope="col">Inq. Date</th>
											<th scope="col">Design Date</th>
											<th scope="col">Design Id</th>
											<th scope="col">Design Name</th>
											<th scope="col">Design By</th>
											<th scope="col">Inq. Item Qty ID</th>
											<th scope="col">Item Name</th>
										</tr>
									</thead>
                                    <tbody>
                                     <!--  
                                       <tr th:each="workOrder:${workOrderList}" >
                                         <td ><center><input type="checkbox" id="selectcheck"  onclick="myFunction2()" ></center> </td>
                                        <td><span th:text="${workOrder.ownerName}"></span></td>
                                         <td scope="row"><a type="text" th:href="@{/workmst/workchd/search/{id}(id=${workOrder.woMstId})}" th:text="${workOrder.woMstId}"></a></td>
                                         <td><span th:text="${#calendars.format(workOrder.woDate, 'M/dd/yyyy')}"></span></td>
                                         
                                        
                                       
                                       </tr>
                                       
                                       -->   
                                        
                                        <!--================ tr here======================== -->

                                    </tbody>
                                </table>
                    		</div>
                    		
                    		 
                    	
                    	</div>

                         </div>

                   </div>  
                     
         
                    <div class="row">

                    <div class="col-12">
                    	<div class="card table-container" style="width: 1070px; overflow-x: scroll">
                    	     <div class="card-header">
								<strong class="card-title">Consum Item's Cost(Table)</strong>
							 </div>
							
                    		<div class="card-body">
                    			<table id="consumItemTable"  class="table table-striped table-bordered display nowrap" style="width:100%">
                                    <thead>
										<tr>
										    <th scope="col">Design Id</th>	
											<th scope="col">Inq. Item Qty ID</th>
											<th scope="col">Sl. No</th>
											<th scope="col">Item Name</th>
											<th scope="col">Item Id</th>
											<th scope="col">Qty</th>
											<th scope="col">UOM Name</th>
											<th scope="col">Rate</th>										
											<th scope="col">Total Cost</th>
											<th scope="col">Currency</th>
										</tr>
									</thead>
                                    <tbody>
                                     <!--  
                                       <tr th:each="workOrder:${workOrderList}" >
                                         <td ><center><input type="checkbox" id="selectcheck"  onclick="myFunction2()" ></center> </td>
                                        <td><span th:text="${workOrder.ownerName}"></span></td>
                                         <td scope="row"><a type="text" th:href="@{/workmst/workchd/search/{id}(id=${workOrder.woMstId})}" th:text="${workOrder.woMstId}"></a></td>
                                         <td><span th:text="${#calendars.format(workOrder.woDate, 'M/dd/yyyy')}"></span></td>
                                         
                                        
                                       
                                       </tr>
                                       
                                       -->   
                                        
                                        <!--================ tr here======================== -->

                                    </tbody>
                                </table>
                                
                                  <div class="row">
                                	<div class="col-md-9">                              
                         	         
						             </div>
                                    <div class="col-md-3">
                                    <form class="form-inline" style="float:right">
                                     <div class="form-group text-right">
                                     <label for="exampleInputName2" >Total : </label>
                                     
                                     <input type="text" class="form-control" aria-required="true" aria-invalid="false" name="consumItemTotal" id="consumItemTotal" style="float:right; width:100px" placeholder="Total" readonly/>
                                    </div>
                                    </form>
                         	         <br>
                         	         <a href="#" type="button" id="saveConsumItemData" class=" btn btn-success" style="float:right">
	  													Save Data
						            </a>
						            </div>
                                 </div> 

                    		</div>
                    		
                    		 
                    	
                    	</div>

                         </div>

                     </div>
                     
                     
                     <div class="row">

                    <div class="col-12">
                    	<div class="card table-container" style="width: 1070px; overflow-x: scroll">
                    	     <div class="card-header">
								<strong class="card-title">Other Item's Cost(Table)</strong>
								<a href="#" type="button" id="add" class=" btn btn-success" style="float:right" data-toggle="modal" data-target="#costHeadModal">
	  													Add
						            </a>
							 </div>
							
                    		<div class="card-body">
                    			<table id="otherItemTable"  class="table table-striped table-bordered display nowrap" style="width:100%">
                                    <thead>
										<tr>
										    <th scope="col">Design Id</th>	
											<th scope="col">Inq. Item Qty ID</th>
											<th scope="col">Sl. No</th>
											<th scope="col">Item Name</th>
											<th scope="col">Qty</th>
											<th scope="col">UOM Name</th>
											<th scope="col" >UOM Id</th>
											<th scope="col">Rate</th>											
											<th scope="col">Total Cost</th>
											<th scope="col" >Cost Head Id</th>
											<th scope="col" >Currency Id</th>
											<th scope="col">Action</th>
											
										</tr>
									</thead>
                                    <tbody>
                                     <!--  
                                       <tr th:each="workOrder:${workOrderList}" >
                                         <td ><center><input type="checkbox" id="selectcheck"  onclick="myFunction2()" ></center> </td>
                                        <td><span th:text="${workOrder.ownerName}"></span></td>
                                         <td scope="row"><a type="text" th:href="@{/workmst/workchd/search/{id}(id=${workOrder.woMstId})}" th:text="${workOrder.woMstId}"></a></td>
                                         <td><span th:text="${#calendars.format(workOrder.woDate, 'M/dd/yyyy')}"></span></td>
                                         
                                        
                                       
                                       </tr>
                                       
                                       -->   
                                        
                                        <!--================ tr here======================== -->

                                    </tbody>
                                </table>
                                
                                  <div class="row">
                                	<div class="col-md-9">                              
                         	         
						             </div>
                                    <div class="col-md-3">
                                    <form class="form-inline" style="float:right">
                                     <div class="form-group text-right">
                                     <label for="exampleInputName2" >Total : </label>
                                     
                                     <input type="text" class="form-control" aria-required="true" aria-invalid="false" name="otherTotalCost" id="otherTotalCost" style="float:right; width:100px" placeholder="Total" readonly/>
                                    </div>
                                    </form>
                         	         <br>
                         	         <a href="#" type="button" id="saveOtherItemData" class=" btn btn-success" style="float:right">
	  													Save Data
						            </a>
						            </div>
                                 </div> 

                    		</div>
                    		
                    		 
                    	
                    	</div>

                         </div>
                         
                         
                         
                         <div class="col-lg-12">
                    	<div class="card table-container" style="width:80%">
                    	     <div class="card-header">
								<form class="form-inline">
                                     <div class="form-group text-right">
                                     <label for="gandTotal" >Grand Total : </label>
                                     
                                     <input type="text" class="form-control" aria-required="true" aria-invalid="false" name="gandTotal" id="gandTotal" style="float:right; width:150px" placeholder="Total" readonly/>
                                    </div>
                                    </form>
							 </div>
							
                    		
                    	
                    	</div>

                         </div>

                     </div>
                     
                     
                      <!-- ===========================================Others item add modal========================================= -->
  

	<div class="modal fade" id="costHeadModal" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="costHeadModal">Cost Head</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form action="" method="post" novalidate="novalidate">

						<div class="row">
							<div class="col-4">
								<div class="form-group">
									<label for="" class="control-label mb-1">Cost Head</label>
									<select class="form-control" aria-required="true" aria-invalid="false" id="costHead" name="" placeholder="select" required>
										<option value=0>Select Head</option>
										 <option th:each="cost:${costHeadList}"
												 th:value="${cost.costHeadId}"
												 th:utext="${cost.headName}"
																									
												/>
									</select>

								</div>
							</div>
							<div class="col-4">
								<div class="form-group">
									<label for="" class="control-label mb-1"></label>
									<button type="button" class="btn btn-primary" style="margin-top: 27px; margin-left: 10px" onclick="myCreateFunction()">Add</button>
								</div>
							</div>
						</div>


						<div class="row">
							<div class="col-12">
								<table id="costHeadTable"class="table table-striped table-bordered display nowrap" style="width:100%">
									<thead>
									    <th>Cost Head Id </th>
										<th>Head Name</th>
										<th>Rate</th>
										<th>UOM Name</th>
										<th>UOM Id</th>
										<th>Remarks</th>
										<th>Qty</th>
										<th>Total</th>
										<th>Currency</th>
										<th>Action</th>
										<th>Remove</th>
										
									</thead>
									<tbody>
										
									</tbody>

								</table>
								<!--  <div class="text-right">
									<button class="btn btn-primary" style="margin-top: 10px; margin-right: 10px">Close</button>
								</div>-->

							</div>
						</div>


					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- ===============================================End modal================================================= -->
                   
  
  
  
                     </div>   <!-- <div class="panel-body">  -->


 
                   </div>   <!-- <div class="panel">  -->
                     
                     

                </div>

            </div>
            
            
            
            
            
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!--    <script type="text/javascript" src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>-->

    <script src="/js/vendor/jquery-2.1.4.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>


    <script src="/js/lib/data-table/datatables.min.js"></script>
    <script src="/js/lib/data-table/dataTables.bootstrap.min.js"></script>
    <script src="/js/lib/data-table/dataTables.buttons.min.js"></script>
    <script src="/js/lib/data-table/buttons.bootstrap.min.js"></script>
    <script src="/js/lib/data-table/jszip.min.js"></script>
    <script src="/js/lib/data-table/pdfmake.min.js"></script>
    <script src="/js/lib/data-table/vfs_fonts.js"></script>
    <script src="/js/lib/data-table/buttons.html5.min.js"></script>
    <script src="/js/lib/data-table/buttons.print.min.js"></script>
    <script src="/js/lib/data-table/buttons.colVis.min.js"></script>
    <script src="/js/lib/data-table/datatables-init.js"></script>
   
   
   
   <script type="text/javascript">
    
        $(document).ready(function() {
            $('#searchTable').DataTable({
                "scrollX": true,
                "pageLength": 2,
                "lengthMenu" : [2, 10, 25, 50, 100]
                
             
            });

       });
        
        $(document).ready(function() {
            $('#consumItemTable').DataTable({
               "scrollX": true,
              
            });

       });
        
       $(document).ready(function() {
            $('#otherItemTable').DataTable({
                "scrollX": true,
              
            });

      });
        
      
       $(document).ready(function() {
           $('#costHeadTable').DataTable({
              "scrollX": true
          });

       });
       
       
       $(document).ready(function() {
           
           $.getJSON("/inquery/owners", {
               ownerType : $('#ownerType').val(),
               ajax : 'true'
           }, function(data) {
               var html = '<option value=" ">Select Buyer</option>';
               var len = data.length;
               for ( var i = 0; i < len; i++) {
            
                     html += '<option value="' + data[i].orderOwnerId + '">'
                           + data[i].ownerName + '</option>';
               }
               html += '</option>';
               $('#owner').html(html);
           });

   // alert('ok');
   });
       
       
       
        $('#ownerType').change(
		        function() {
		            $.getJSON("/inquery/owners", {
		                ownerType : $(this).val(),   
		                ajax : 'true'
		            }, function(data) {
		                var html = '<option value=" ">Select Buyer</option>';
		                var len = data.length;
		                
		                for ( var i = 0; i < len; i++) {
		                    html += '<option value="' + data[i].ownerName + '">'
		                            + data[i].ownerName + '</option>';
		                }
		                html += '</option>';
		                $('#owner').html(html);
		            });
		        });
       

     </script>
     
     <!-- ==========================================Search Data ================================================ -->
       
       <script>
         
       $(function () {
   	    $('#btnsearch').click(function(e) {
   	    	

   	        //	alert("searching data");
   	        	
   	        	
   	        	var check=document.getElementById("calculate");
   	        
   	        	
   	        	if(check.checked==true){
   	        		
   	        	//	alert("You are searcing calculate data");
   	        		
   	        		$(function () {
    	   	               // $('#searchForm').submit(function(e) {
    	   	                 // prevent default for submission
    	   	                  e.preventDefault();
    	   	                 // form data capture
    	   	                  var formData= { 
    	   	                    "ownerType" :$("#ownerType").val(),
    	   	                     "owner" :$("#owner").val(),
    	   	                     "ultimateOwner" :$("#ultimateOwner").val(),
    	   	                     "inqid" :$("#inqid").val(),
    	   	                     "designid" :$("#designid").val(),
    	   	                     "userdefinedno" :$("#definedno").val(),
    	   	                     "designName" :$("#designname").val(),
    	   	                      "designBy" :$("#designBy").val(),
    	   	                      "itemName" :$("#itemId").val(),
    	   	                      "startDate" :$("#startdate").val(),
    	   	                      "endDate" :$("#enddate").val()
    	   	                    
    	   	                    };
    	   	                    
    	   	                    //  $('#table tbody').html('');
    	   	                    $('#searchTable tbody').empty();
    	   	                 $('#consumItemTable tbody').empty();
    	   	              $('#otherItemTable tbody').empty();
    	   	                   
    	   	                        $.ajax({
    	   	                        type : "GET",
    	   	                       // url :  "/api/inquiry_search",
    	   	                       url:"/search/data/calculate",
    	   	                        dataType : 'json',
    	   	            	    data: formData,
    	   	                        success: function(result){
    	   	            	     $.each(result, function(i,search){
    	   	            					
    	   	            	    var customerRow = '<tr>' +
    	   	            	 								'<td>' + search.orderOwnerName + '</td>' +    
    	   	            	 							     '<td>' + search.orderId + '</td>' +
    	   	            	 							     '<td>' + search.orderDate + '</td>' +	  
    	   	            	 							     '<td>' + search.designDate + '</td>' +	 
    	   	            	 							     '<td class="designId">' + search.designId + '</td>' +
    	   	            	 							     '<td>' + search.designName + '</td>' +
    	   	            	 							     '<td>' + search.designBy + '</td>' +
    	   	            	 							      '<td>' + search.orderItemQuantityId + '</td>' +
    	   	            	 							      '<td>' + search.itemName + '</td>' +
    	   	            	 							     
    	   	            							'</tr>';
    	   	            									  
    	   	            									  
    	   	            						
    	   	            	      $('#searchTable tbody').append(customerRow);
    	   	            	      
    	   	            	      
    	   	            					
    	   	            		});        // each
    	   	            					 
    	   	            		},   // end success
    	   	            	error : function(e) {
    	   	            		alert("ERROR: ", e);
    	   	            		console.log("ERROR: ", e);
    	   	            			}
    	   	            					
    	   	            					
    	   	                    });   // end ajax
    	   	                    
    	   	               });   // function
   	        		
   	        		
   	        	}
   	        	
   	        	else{
   	        		 
   	        		//alert("Data searcing");
   	        		
   	        		
   	        		// var buyer=document.getElementById("ownerType");
	      	  	    // var buyerTypeCheck = buyer.options[buyer.selectedIndex].text;
		      	  	// var buyerName=document.getElementById("owner");
	      	  	    // var buyerNameCheck = buyerName.options[buyerName.selectedIndex].text;
	      	  	     
		      	  	// var designer=document.getElementById("designBy");
	      	  	   //  var designerCheck = designer.options[designer.selectedIndex].text;
	      	  	     
		      	  	// var item=document.getElementById("itemId");
	      	  	    // var itemCheck = item.options[item.selectedIndex].text;
	      	  	  //   
	      	  	  //   var dateCheck=document.getElementById("startdate").value;
		      	  	     
	      	  	     //alert(buyerTypeCheck);
	      	  	    // alert(buyerNameCheck);
	      	  	    // alert(designerCheck);
	      	  	    // alert(itemCheck);
	      	  	     
	      	  	    // alert(dateCheck);
	      	  	     
	      	  	  //   if(buyerNameCheck=="Select Buyer" && designerCheck=="Select" && itemCheck=="Select Item" && dateCheck==0){
	      	  	    	 
	      	  	    //	 alert("Please Input Buyer Name Or Designed By Or Item Name Or Date Range For Search");
	      	  	    	 
	      	  	    	// return;
	      	  	 //    }
	      	  	     
	      	  	     
	      	  	    // else{
	      	  	    
   	        		
   	        		$(function () {
   	   	               // $('#searchForm').submit(function(e) {
   	   	                 // prevent default for submission
   	   	                  e.preventDefault();
   	   	                 // form data capture
   	   	                  var formData= { 
   	   	                    "ownerType" :$("#ownerType").val(),
   	   	                     "owner" :$("#owner").val(),
   	   	                     "ultimateOwner" :$("#ultimateOwner").val(),
   	   	                     "inqid" :$("#inqid").val(),
   	   	                     "designid" :$("#designid").val(),
   	   	                     "userdefinedno" :$("#definedno").val(),
   	   	                     "designName" :$("#designname").val(),
   	   	                      "designBy" :$("#designBy").val(),
   	   	                      "itemName" :$("#itemId").val(),
   	   	                      "startDate" :$("#startdate").val(),
   	   	                      "endDate" :$("#enddate").val()
   	   	                    
   	   	                    };
   	   	                    
   	   	                    //  $('#table tbody').html('');
   	   	                    $('#searchTable tbody').empty();
   	   	              $('#consumItemTable tbody').empty();
	   	              $('#otherItemTable tbody').empty();
   	   	                   
   	   	                        $.ajax({
   	   	                        type : "GET",
   	   	                       // url :  "/api/inquiry_search",
   	   	                       url:"/search/data",
   	   	                        dataType : 'json',
   	   	            	    data: formData,
   	   	                        success: function(result){
   	   	            	     $.each(result, function(i,search){
   	   	            					
   	   	            	    var customerRow = '<tr>' +
   	   	            	 								'<td>' + search.orderOwnerName + '</td>' +    
   	   	            	 							     '<td>' + search.orderId + '</td>' +
   	   	            	 							     '<td>' + search.orderDate + '</td>' +	  
   	   	            	 							     '<td>' + search.designDate + '</td>' +	 
   	   	            	 							     '<td class="designId">' + search.designId + '</td>' +
   	   	            	 							     '<td>' + search.designName + '</td>' +
   	   	            	 							     '<td>' + search.designBy + '</td>' +
   	   	            	 							      '<td>' + search.orderItemQuantityId + '</td>' +
   	   	            	 							      '<td>' + search.itemName + '</td>' +
   	   	            	 							     
   	   	            							'</tr>';
   	   	            									  
   	   	            									  
   	   	            						
   	   	            	      $('#searchTable tbody').append(customerRow);
   	   	            	      
   	   	            	      
   	   	            					
   	   	            		});        // each
   	   	            					 
   	   	            		},   // end success
   	   	            	error : function(e) {
   	   	            		alert("ERROR: ", e);
   	   	            		console.log("ERROR: ", e);
   	   	            			}
   	   	            					
   	   	            					
   	   	                    });   // end ajax
   	   	                    
   	   	               });   // function
   	   	               
   	   	               
   	        		//}
   	        		
   	        	}
   	        	
   	        	
   	        	
   	           	
      	    });
      });
       
       </script>
       
     <!-- =============================================End======================================================= -->
     
     
     <!--=========================================== Consum Item searching================================================== -->
      
        <script>
     $("#searchTable").on('click','.designId',function(){
    	 
    	 
    	 var check=document.getElementById("calculate");
    	 
    	 if(check.checked==true){
    		 alert("You searching calculate data");
    		 
    		 
    		 var $row = $(this).closest("tr");    // Find the row
		     var id = $row.find(".designId").text();
    	     
    	    // alert(id);
		     
		     var formData= { 
   			     "id" : id	
   			     			      
   		       };
		     
		     $('#consumItemTable tbody').empty();
			 
			 $.ajax({
		            type : "GET",	    		           
		             url:"/consum/calculate/search",
		            dataType : 'json',
			        data: formData,
		            success: function(result){
		            	$.each(result, function(i,design){
		                        
		            		 var customerRow = '<tr>' +
 								'<td class="designId">' + design.designId + '</td>' +    
 								'<td class="inquiryId">' + design.orderItemQuantityId + '</td>' + 
 								'<td class="slNo">' +  + '</td>' + 
 								'<td class="itemName">' + design.itemName + '</td>' + 
 								'<td class="itemId">' + design.itemId + '</td>' + 
 								'<td class="consumQty">' + design.itemQty + '</td>' + 
 								'<td class="uom" ><select class="form-control" id="uOMId">' +
								'<option value="">Select</option>';
								
						       $.each(design.modelUOMCustomList, function(j,uom) {
				               customerRow=customerRow +'<option value='+uom.uomId+'>'+uom.uomName+ '</option>';
				
				
				
				               });	
						       
						       
			
																								
					      customerRow=customerRow + '/>' +
								 
			    '</select></td>' +
			    
			    //'<td class="consumRate">' + + '</td>' + 
			    
			    '<td class="consumRate"><input type="text" size="2px" name="consumRate" value='+design.itemRate+'>' + '</td>'+ 
			    '<td class="consumTotal"><input type="text" size="5px" name="consumTotal" value='+design.totalCost+'>' +'</td>'+
			    
			    '<td class="currencyList" ><select class="form-control" id="currencyId">' +
				'<option value="">Select Currency</option>';
				
							$.each(design.modelCurrencyList, function(j,currency) {
								customerRow=customerRow +'<option value=' + currency.currencyId + '>'+currency.currencyName+ '</option>';
					
					
					});			
					
																									
							customerRow=customerRow + '/>' +
									 
					'</select></td>' 
		
 							     
						    '</tr>';
								  
								  
					
                       $('#consumItemTable tbody').append(customerRow);
		            		
		            		});
		            	
		            }
		            
		            
			 });
    	 }
    	 
    	 else{
    		 
    	 
    	 
    	     var $row = $(this).closest("tr");    // Find the row
		     var id = $row.find(".designId").text();
    	     
    	    // alert(id);
		     
		     var formData= { 
   			     "id" : id	
   			     			      
   		       };
		     
		     $('#consumItemTable tbody').empty();
			 
			 $.ajax({
		            type : "GET",	    		           
		             url:"/consumt/item/search",
		            dataType : 'json',
			        data: formData,
		            success: function(result){
		            	$.each(result, function(i,design){
		                        
		            		 var customerRow = '<tr>' +
 								'<td class="designId">' + design.designId + '</td>' +    
 								'<td class="inquiryId">' + design.orderItemQuantityId + '</td>' + 
 								'<td class="slNo">' +  + '</td>' + 
 								'<td class="itemName">' + design.itemName + '</td>' + 
 								'<td class="itemId">' + design.itemId + '</td>' + 
 								'<td class="consumQty">' + design.itemQty + '</td>' + 
 								'<td class="uom" ><select class="form-control" id="uOMId">' +
								'<option value="">Select</option>';
								
						       $.each(design.modelUOMCustomList, function(j,uom) {
				               customerRow=customerRow +'<option value='+uom.uomId+'>'+uom.uomName+ '</option>';
				
				
				
				               });	
						       
						       
			
																								
					      customerRow=customerRow + '/>' +
								 
			    '</select></td>' +
			    
			    //'<td class="consumRate">' + + '</td>' + 
			    
			    '<td class="consumRate"><input type="text" size="2px" name="consumRate">' + '</td>'+ 
			    '<td class="consumTotal"><input type="text" size="5px" name="consumTotal">' +'</td>'+
			    
			    '<td class="currencyList" ><select class="form-control" id="currencyId">' +
				'<option value="">Select Currency</option>';
				
							$.each(design.modelCurrencyList, function(j,currency) {
								customerRow=customerRow +'<option value=' + currency.currencyId + '>'+currency.currencyName+ '</option>';
					
					
					});			
					
																									
							customerRow=customerRow + '/>' +
									 
					'</select></td>' 
		
 							     
						    '</tr>';
								  
								  
					
                       $('#consumItemTable tbody').append(customerRow);
		            		
		            		});
		            	
		            }
		            
		            
			 });
			 
    	 }
			
     });
     
     </script>
   <!-- ================================================End====================================================== -->
   
   <!-- ===============================================Script for UOM Price===================================== -->
    
    <script type="text/javascript">
    
    $("#consumItemTable").on('change','.uom',function(){
      
    	var id = $(this).find("option:selected").val();
    	
    	 var formData= { 
   			     "id" : id
   			     			      
   		       };
    	
    	 $.ajax({
	            type : "GET",	    		           
	             url:"/purchase/price/search",
	            dataType : 'json',
		        data: formData,
	            success: function(result){
	            	
	            	$.each(result, function(i,price){
                        
	            		 // alert(price.unitPrice);
	            		  
	            		  var price=price.unitPrice;
	            		  
	            		  //$(this).find('.consumRate').text(price);
	            		  
	            		  $("#consumItemTable tbody tr").each(function(){
	            			  
	            			 // alert("find Table");
	            			  
	            			 // $(this).find('.consumRate').text(price);
	            			   let tr = $(this).closest('tr');
	            			   var qty=tr.find(".consumQty").text();
	            			  
	            			   $(this).find('input[name="consumRate"]').val(price);
	            			   
	            			   var total=(qty*price);
	            			   
	            			   $(this).find('input[name="consumTotal"]').val(total);
	            			   
	            			   document.getElementById('consumItemTotal').value = total;
	            			   
	            			  
	            			  
	            		  });
	            		  
	            		
	            		});
	            }
	            
	            
		 });
    });
    
    </script>
    
   <!-- ===================================================End================================================== -->
   
  
			
<!-- =============================================Function for add========================================== -->
    
    <script>
    
    
  
    function myCreateFunction() {
		var table = document.getElementById("costHeadTable");
		var specifitionItem=document.getElementById("costHead");
		var id=document.getElementById("costHead").value;
		
		 var formData= { 
   			     "id" : id
   			     			      
   		       };	
    	
    	 $.ajax({
	            type : "GET",	    		           
	             url:"/cost/head/search",
	            dataType : 'json',
		        data: formData,
	            success: function(result){
	            	
	            	$.each(result, function(i,cost){
                        
	           
	            		 var rate=cost.unitPrice;
	            		// alert(rate);
	            		 var s;
	            		 
	            		    var row = table.insertRow(1);
	            			var cell1 = row.insertCell(0);
	            			var cell2 = row.insertCell(1);
	            			var cell3 = row.insertCell(2);
	            			var cell4 = row.insertCell(3);
	            			var cell5 = row.insertCell(4);
	            			var cell6 = row.insertCell(5);
	            			var cell7 = row.insertCell(6);
	            			var cell8 = row.insertCell(7);
	            			var cell9 = row.insertCell(8);
	            			var cell10 = row.insertCell(9);
	            			var cell11 = row.insertCell(10);
	            			
	            			cell1.innerHTML = '<span id="headId" class="headId">'+costHead.options[costHead.selectedIndex].value+'</span>';
	            			cell2.innerHTML = '<span id="costHeadName">'+costHead.options[costHead.selectedIndex].text+'</span>';
	            			cell3.innerHTML = '<input class="rate" name="rate" id="rate" size="2px" value='+ rate+' type="text">';
	            			cell4.innerHTML = '<span id="uomName" class="uomName">'+ cost.modelUOM.uomName  +'</span>';
	            			cell5.innerHTML = '<span id="uOMId" class="uOMId">'+ cost.modelUOM.uomId +'</span>';
	            			cell6.innerHTML = '<textarea id="remarks" rows="1" cols="8">' + cost.remarks + '</textarea>';
	            			cell7.innerHTML = '<input class="qty" id="qty" name="qty" size="2px" type="text">';
	            			cell8.innerHTML = '<input id="total" class="total" name="total" size="2px" type="text">';
	            			
	            			$.each(cost.modelCurrencyList, function(j,currency) {
								
						       // alert("currency");
						         
							s+='<option value=' + currency.currencyId + '>'+currency.currencyName+ '</option>';
				               
				
				                });	
	            			
	            			
	            			cell9.innerHTML = '<select class="form-control" id="currencyId">' +
							'<option value="">Select Currency</option>'+
							s
																									
							  +
									 
					       '</select>'; 
					
					
	            			cell10.innerHTML = '<button type="button" class="saveData btn btn-success btn-sm" onclick="save()">Save</button>';
	            		
	            			
				
							
					
							
							cell11.innerHTML = '<button type="button" class="btn btn-danger btn-sm" onclick="myDeleteFunction()">Remove</button>';
	            	
	            	
	            	
	            	});
	            }
	            
	            
		 });
		
		
		
	}
    
    function myDeleteFunction() {
    	
		document.getElementById("costHeadTable").deleteRow(1);
	}
    
    </script>
 <!-- ==================================================End================================================ -->
 
 <!-- =============================================Onchange Funciotn ======================================= --> 
   
   <script>
     
   $("#costHeadTable").on('input', '.qty', function () {
	    
	       
	       $("#costHeadTable tbody tr").each(function(){
			  	     
	    	        let tr = $(this).closest('tr');
			  	    let rate = tr.find('input[name="rate"]').val();
	        	    let qty = tr.find('input[name="qty"]').val();
			  	     
	        	    var total=(rate*qty);
	        	    
	        	    //alert(total);
	        	    
	        	    $(this).find('input[name="total"]').val(total);
	        	    
	        	    //let finalsum = $(this).closest('tr').
	        	   
	       });
	           	  
	      });
   
   
   $("#costHeadTable").on('input', '.rate', function () {
	    
       
       $("#costHeadTable tbody tr").each(function(){
		  	     
    	        let tr = $(this).closest('tr');
		  	    let rate = tr.find('input[name="rate"]').val();
        	    let qty = tr.find('input[name="qty"]').val();
		  	     
        	    var total=(rate*qty);
        	    
        	    //alert(total);
        	    
        	    $(this).find('input[name="total"]').val(total);
        	    
        	    //let finalsum = $(this).closest('tr').
        	   
       });
           	  
      });
     
   </script>
   
   
 <!-- =============================================End===================================================== -->
 
 <!-- ======================================Insert save function============================================ -->
          
          <script type="text/javascript">
                 
          $('#costHeadTable').on("click", ".saveData", function (e) {
          				
        	   
        	    let tr = $(this).closest('tr');
        	    let rate = tr.find('input[name="rate"]').val();
        	    let qty = tr.find('input[name="qty"]').val();
        	    let total = tr.find('input[name="total"]').val();
        	    let uom = tr.find(".uomName").text();
        	    let headId = tr.find(".headId").text();
        	    let uOMId = tr.find(".uOMId").text();
        	    
        	   // var currencyName=tr.find("#currencyId").text();
        	    var currency=tr.find("#currencyId").val();
        	    
        	   // alert(currencyName);
        	    
        	    
         		
         		$("#consumItemTable tbody tr").each(function(){
   			  	  
         			//alert("find consum item table");
   			  	   
   			  	   var $row = $(this).closest("tr");    // Find the row
   		 	       var designId = $row.find(".designId").text(); // Find the text
   		 	       var inquiryId = $row.find(".inquiryId").text(); // Find the text
   		 	       var slNo = $row.find(".slNo").text(); // Find the text
   		 	       var itemName = $row.find(".itemName").text(); // Find the text
    			        
   		 	        //alert(rate);
   		 	       // alert(designId); 
   		 	        
   		 	        
   		 	        var table = document.getElementById("otherItemTable");
   		 	        
 		
   	      			var row = table.insertRow(1);
   	     			var cell1 = row.insertCell(0);
   	     			var cell2 = row.insertCell(1);
   	     			var cell3 = row.insertCell(2);
   	     			var cell4 = row.insertCell(3);
   	     			var cell5 = row.insertCell(4);
   	     			var cell6 = row.insertCell(5);
   	     			var cell7 = row.insertCell(6);
   	     			var cell8 = row.insertCell(7);
   	     			var cell9 = row.insertCell(8);
   	     			var cell10 = row.insertCell(9);
   	     			var cell11 = row.insertCell(10);
   	     		    var cell12 = row.insertCell(11);
   	     			   			
   	     			cell1.innerHTML = '<span class="designId">'+designId+'</span>';
   	     			cell2.innerHTML = '<span>'+inquiryId+'</span>';
   	     			cell3.innerHTML = '<span>'+slNo+'</span>';
   	     			cell4.innerHTML = '<span>'+itemName+'</span>';
   	     			cell5.innerHTML = '<input class="otherqty" name="otherqty" id="otherqty" size="1px" value='+ qty+' type="text">';
   	     			cell6.innerHTML = '<span>'+uom+'</span>';
   	     			cell7.innerHTML = '<span class="uOMId">'+uOMId+'</span>';
   	     			cell8.innerHTML = '<input class="otherrate" name="otherrate" id="otherrate" size="2px" value='+ rate+' type="text">';
   	     			cell9.innerHTML = '<input class="othertotal" name="othertotal" id="othertotal" size="4px" value='+ total+' type="text">';
   	     			cell10.innerHTML = '<span class="headId" >'+headId+'</span>';
   	     		    cell11.innerHTML = '<span class="currencyId" >'+currency+'</span>';
   	     		    cell12.innerHTML = '<button type="button" class="removerow btn btn-danger btn-sm">Remove</button>';
   	     			
			
   	     		  $(document).ready(function(){
  		     			 var result = [];
  				 			 $("#otherItemTable tbody tr").each(function(){
  				 				var arr = document.getElementsByName('othertotal');
  				 			    var tot=0;
  				 			    for(var i=0;i<arr.length;i++){
  				 			        if(parseInt(arr[i].value))
  				 			            tot += parseInt(arr[i].value);
  				 			    }
  				 			    document.getElementById('otherTotalCost').value = tot;
  				 			    			    
  				 			    var consumTotal=document.getElementById('consumItemTotal').value;
  				 			    var otherTotal=tot;
  				 			    
  				 			    var gTotal=((1*otherTotal)+(1*consumTotal));
  				 			    //alert((1*otherTotal)+(1*consumTotal));
  				 			    
  				 			   document.getElementById('gandTotal').value = gTotal;
  				 			    
  				 			    
  				  });
  				  
  				
  				  
  				  
  				});
          	  
          	  });
         		
        	    
        	    
        	  
        	  
        	   $(this).closest('tr').remove();
        	   
        	    
      		
      	   });
     	 
          
          </script>
          
   <!-- ==========================================End===================================================== -->
   
   
   <!-- ========================================Onchange function on others item table========================= -->
     
     <script>
       
     $("#otherItemTable").on('input', '.otherqty', function () {
 	    
	       
	       $("#otherItemTable tbody tr").each(function(){
			  	     
	    	        let tr = $(this).closest('tr');
			  	    let rate = tr.find('input[name="otherrate"]').val();
	        	    let qty = tr.find('input[name="otherqty"]').val();
			  	     
	        	    var total=(rate*qty);
	        	    
	        	    //alert(total);
	        	    
	        	    $(this).find('input[name="othertotal"]').val(total);
	        	    
	        	    //let finalsum = $(this).closest('tr').
	        	    
	        	    
	        		//sum of collumn
	    	        
	        	    $(document).ready(function(){
		     			 var result = [];
				 			 $("#otherItemTable tbody tr").each(function(){
				 				var arr = document.getElementsByName('othertotal');
				 			    var tot=0;
				 			    for(var i=0;i<arr.length;i++){
				 			        if(parseInt(arr[i].value))
				 			            tot += parseInt(arr[i].value);
				 			    }
				 			    document.getElementById('otherTotalCost').value = tot;
				 			    
				 			   var consumTotal=document.getElementById('consumItemTotal').value;
				 			    var otherTotal=tot;
				 			    
				 			    var gTotal=((1*otherTotal)+(1*consumTotal));
				 			    //alert((1*otherTotal)+(1*consumTotal));
				 			    
				 			   document.getElementById('gandTotal').value = gTotal;
				  });
				  
				
				  
				  
				});
	        	   
	       });
	           	  
	      });
 
 
 $("#otherItemTable").on('input', '.otherrate', function () {
	    
     
     $("#otherItemTable tbody tr").each(function(){
		  	     
  	        let tr = $(this).closest('tr');
		  	let rate = tr.find('input[name="otherrate"]').val();
      	    let qty = tr.find('input[name="otherqty"]').val();
		  	     
      	    var total=(rate*qty);
      	    
      	    //alert(total);
      	    
      	    $(this).find('input[name="othertotal"]').val(total);
      	    
      	    //let finalsum = $(this).closest('tr').
      	    
      	    
      	//sum of collumn
	        
	        $(document).ready(function(){
	     			 var result = [];
			 			 $("#otherItemTable tbody tr").each(function(){
			 				var arr = document.getElementsByName('othertotal');
			 			    var tot=0;
			 			    for(var i=0;i<arr.length;i++){
			 			        if(parseInt(arr[i].value))
			 			            tot += parseInt(arr[i].value);
			 			    }
			 			    document.getElementById('otherTotalCost').value = tot;
			 			    
			 			    
			 			   var consumTotal=document.getElementById('consumItemTotal').value;
			 			    var otherTotal=tot;
			 			    
			 			    var gTotal=((1*otherTotal)+(1*consumTotal));
			 			    //alert((1*otherTotal)+(1*consumTotal));
			 			    
			 			   document.getElementById('gandTotal').value = gTotal;
			  });
			  
			
			  
			});
      	   
     });
         	  
    });
   
     
     </script>
     
   <!-- =================================================End==================================================== -->
   
   
   <!-- ===================================On change function on consum table================================== -->
   
    <script>
    
    $("#consumItemTable").on('input', '.consumRate', function () {
	    
        
        $("#consumItemTable tbody tr").each(function(){
   		  	     
     	       let tr = $(this).closest('tr');
   		  	   
         	   var qty=tr.find(".consumQty").text();
 			  
			   let price=tr.find('input[name="consumRate"]').val();
			   
			   var total=(qty*price);
			   
			   $(this).find('input[name="consumTotal"]').val(total);
			   
			   document.getElementById('consumItemTotal').value = total;
   		  	  
         	    
   
         	    
         	//sum of collumn
   	        
   	       /* $(document).ready(function(){
   	     			 var result = [];
   			 			 $("#otherItemTable tbody tr").each(function(){
   			 				var arr = document.getElementsByName('othertotal');
   			 			    var tot=0;
   			 			    for(var i=0;i<arr.length;i++){
   			 			        if(parseInt(arr[i].value))
   			 			            tot += parseInt(arr[i].value);
   			 			    }
   			 			    document.getElementById('otherTotalCost').value = tot;
   			 			    
   			 			    
   			 			    document.getElementById('gandTotal').value = tot;
   			  });
   			 
   			
   			  
   			});
			    */
        });
            	  
       });
    
    </script>
   
   <!-- =========================================End========================================================== -->
   
   
   <!-- ==================================Save otheritems table data=================================================  -->
     
     <script>
      
     
    $(function () { 
     $('#saveOtherItemData').click(function(e) {
    	  
    	// alert("saving your data");
    	 
    	 $("#otherItemTable tbody tr").each(function(){
    		 
    		 var tr = $(this).closest('tr');
  	       
 	        var designId = tr.find(".designId").text();
 	        var qty = tr.find('input[name="otherqty"]').val();
 	        var unitPrice = tr.find('input[name="otherrate"]').val();
 	        var totalCost = tr.find('input[name="othertotal"]').val();
     	    var headId = tr.find(".headId").text();
     	    var uOMId = tr.find(".uOMId").text();
     	    var currencyId = tr.find(".currencyId").text();
     	    
     	    alert("Your Input Quantity : " + qty);
     	    
     	      var formData= { 
 			      "designId" : designId,	
 			      "qty" : qty,
 			      "unitPrice" : unitPrice,
 			      "totalCost" : totalCost,
 			      "headId" : headId,
 			     "uOMId" : uOMId,
 			     "currencyId" : currencyId
 			      
 		        };
     	      
     	      
     	     $.ajax({
		            type : "POST",	    		           
		             url:"/other/item/save",
		            dataType : 'json',
			        data: formData,
			        success: function(result){
 		            	
  		               
 		            	
 		            },
		            
			 });
     	        		 
    	 });
    	 
     });
    });
       
     
     </script>
     
     
   <!-- =======================================End============================================================= -->
  
  
  
  <!-- ==================================Save consumItem table data=================================================  -->
     
     <script>
       
     $('#saveConsumItemData').click(function(e) {
    	  
    	// alert("saving your data");
    	 
    	 $("#consumItemTable tbody tr").each(function(){
    		 
    		// alert("find other item table");
    		 
    		 var tr = $(this).closest('tr');
  	       
 	        var designId = tr.find(".designId").text();
 	        var qty = tr.find(".consumQty").text();
 	        var unitPrice = tr.find('input[name="consumRate"]').val();
		  	let totalCost = tr.find('input[name="consumTotal"]').val();
     	    var itemId = tr.find(".itemId").text();
     	    var uOMId = tr.find("#uOMId").val();
     	    var currency = tr.find("#currencyId").val();
     	      
     	    
     	   var formData= { 
  			      "designId" : designId,	
  			      "qty" : qty,
  			      "unitPrice" : unitPrice,
  			      "totalCost" : totalCost,
  			      "itemId" : itemId,
  			       "uOMId" : uOMId,
  			      "currency" : currency
  			      
  		        };
      	      
      	      
      	     $.ajax({
 		            type : "POST",	    		           
 		             url:"/consum/item/save",
 		            dataType : 'json',
 			        data: formData,
 		            success: function(result){
 		            	
 		               
 		            	
 		            },
 			 });
     	        		 
    	 });
    	 
     });
       
     
     </script>
     
     
   <!-- =======================================End============================================================= -->
   
   
   <!-- ==============================================Remove  row from pichd=============================================== -->
   
      <script>
      
      
      $("#otherItemTable").on('click','.removerow',function(){
   	              
    	    WRN_PROFILE_DELETE = "Are you sure you want to delete this row?";  
			var check = confirm(WRN_PROFILE_DELETE); 
			if(check == true){
    		    $(this).closest("tr").remove();    // Find the row
			}
			
			
			
      });
      </script>
   
   <!-- ================================================End===================================================== -->
   
   
   
   <!--=========================================== Calculate Consum Item  searching================================================== -->
      
        <script>
        /*
        
     $("#searchTable").on('click','.designId',function(){
    	 
    	 
    	 if(check.checked==true){ 
    	 
    	     var $row = $(this).closest("tr");    // Find the row
		     var id = $row.find(".designId").text();
    	     
    	    // alert(id);
		     
		     var formData= { 
   			     "id" : id	
   			     			      
   		       };
		     
		     $('#consumItemTable tbody').empty();
			 
			 $.ajax({
		            type : "GET",	    		           
		             url:"/consum/calculate/search",
		            dataType : 'json',
			        data: formData,
		            success: function(result){
		            	$.each(result, function(i,design){
		                        
		            		 var customerRow = '<tr>' +
 								'<td class="designId">' + design.designId + '</td>' +    
 								'<td class="inquiryId">' + design.orderItemQuantityId + '</td>' + 
 								'<td class="slNo">' +  + '</td>' + 
 								'<td class="itemName">' + design.itemName + '</td>' + 
 								'<td class="itemId">' + design.itemId + '</td>' + 
 								'<td class="consumQty">' + design.itemQty + '</td>' + 
 								'<td class="uom" ><select class="form-control" id="uOMId">' +
								'<option value="">Select</option>';
								
						       $.each(design.modelUOMCustomList, function(j,uom) {
				               customerRow=customerRow +'<option value='+uom.uomId+'>'+uom.uomName+ '</option>';
				
				
				
				               });	
						       
						       
			
																								
					      customerRow=customerRow + '/>' +
								 
			    '</select></td>' +
			    
			    //'<td class="consumRate">' + + '</td>' + 
			    
			    '<td class="consumRate"><input type="text" size="2px" name="consumRate">' + '</td>'+ 
			    '<td class="consumTotal"><input type="text" size="5px" name="consumTotal">' +'</td>'+
			    
			    '<td class="currencyList" ><select class="form-control" id="currencyId">' +
				'<option value="">Select Currency</option>';
				
							$.each(design.modelCurrencyList, function(j,currency) {
								customerRow=customerRow +'<option value=' + currency.currencyId + '>'+currency.currencyName+ '</option>';
					
					
					});			
					
																									
							customerRow=customerRow + '/>' +
									 
					'</select></td>' 
		
 							     
						    '</tr>';
								  
								  
					
                       $('#consumItemTable tbody').append(customerRow);
		            		
		            		});
		            	
		            }
		            
		            
			 });
    	 }
			
     });
     
        
        */
     </script>
   <!-- ================================================End==============-->
   
   
   
   <script type="text/javascript" th:inline="javascript">
		
		var now = new Date();
		var day = ("0" + now.getDate()).slice(-2);
		var month = ("0" + (now.getMonth() + 1)).slice(-2);
	
	    var today = now.getFullYear()+"-"+(month)+"-"+(day) ;
	    
	    document.getElementById('enddate').value = today;
       
	</script>
   
   
  
</body>

</html>