<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang=""xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Mending Plan</title>
	<meta name="description" content="Sufee Admin - HTML5 Admin Template">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
	<link rel="apple-touch-icon" href="apple-icon.png">
	<link rel="shortcut icon" href="favicon.ico">

    <link rel="stylesheet"th:href="@{/css/normalize.css}" href="../../static/css/normalize.css">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"href="../../static/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}"href="../../static/css/font-awesome.min.css">
    <link rel="stylesheet"th:href="@{/css/themify-icons.css}" href="../../static/css/themify-icons.css">
    <link rel="stylesheet"th:href="@{/css/flag-icon.min.css}" href="../../static/css/flag-icon.min.css">
    <link rel="stylesheet" th:href="@{/css/cs-skin-elastic.css}"href="../../static/css/cs-skin-elastic.css">
	<!-- <link rel="stylesheet" href="assets/css/bootstrap-select.less"> -->
	<link rel="stylesheet"th:href="@{/scss/style.css}" href="../../static/scss/style.css">
	<link rel="stylesheet" href="/css/lib/datatable/dataTables.bootstrap.min.css">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>

	<!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script> -->
	<style type="text/css">
		.modal-backdrop.show {
			display: none;
		}

		td {
			border: 1px #DDD solid;
			padding: 5px;
			cursor: pointer;
		}

		.selected {
			background: red;
		}

		.dataTables_filter {
			text-align: right;
		}
		
		.col-md-7{
			padding-left: 78%;
		}
		.pagination {
			
		}

		.modal {
			z-index: 999999999;
		}
	</style>
	<script>
	

	</script>
	
	
	 <style>
.custom-header-panel{
    background-color: #004b8e !important;
    border-color: #004b8e !important;
    color: white;
}


.panel {
  padding: 15px;
  margin-bottom: 20px;
  background-color: #ffffff;
  border: 1px solid #dddddd;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}

.panel-heading {
  padding: 10px 15px;
  margin: -15px -15px 15px;
  font-size: 17.5px;
  font-weight: 500;      
  background-color: #f5f5f5;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}

.panel-footer {
  padding: 10px 15px;
  margin: 15px -15px -15px;
  background-color: #f5f5f5;
  border-top: 1px solid #dddddd;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
} 

.panel-primary {
  border-color: #428bca;
}

.panel-primary .panel-heading {
  color: #ffffff;
  background-color: #428bca;
  border-color: #428bca;
}
/* This kinda of works but now 
.panel, .panel-group .panel-heading+.panel-collapse>.panel-body{
    border: none;
}
*/
.card-header{
    /* background-color: #004b8e !important; */
    background-color: #004b8e !important;
    border-color: #004b8e !important;
    color: white;

    padding: 10px 15px;
  /*margin: -15px -15px 15px; */

  font-size: 17.5px;
  font-weight: 500;      
  background-color: #f5f5f5;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}


 <style type="text/css">
       
       #calculate{
      display:none;
     }
    
        .modal-backdrop.show {
            display: none;
        }

        .modal-backdrop.fade {
            display: none;
        }

/*
        div.dataTables_wrapper {
            width: 100%;
        }
*/
		.selected{
			background-color: #eee;
			color: #000;
		}
		
		.dataTables_length, .dataTables_filter {
			display: none !important;
		}
    </style>
</head>

<body>
	<!-- Left Panel -->

	<aside id="left-panel" class="left-panel">
		<nav class="navbar navbar-expand-sm navbar-default">

			<div class="navbar-header">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
					<i class="fa fa-bars"></i>
				</button>
				<a class="navbar-brand" href="./">MLFM</a>
				<a class="navbar-brand hidden" href="./">BD</a>
			</div>

			<div id="main-menu" class="main-menu collapse navbar-collapse">
				<ul class="nav navbar-nav">
				
			
                
   <li class="menu-item-has-children dropdown" >
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               <i class="menu-icon fa fa-laptop"></i>    Set Up
          </a>
        
       <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown" >
             <li th:each="s:${listModelUserObjectSetup}" 
                   th:value="${s.userObjectId}">
            <a class="dropdown-item" th:href="@{${s.modelObject.filePath}+'/'+${s.modelUser.userId}}" >
               
                    <span th:utext="${s.modelObject.objectName}">
                   </span>
                </a>
            </li>
          
        </ul>
        
   </li>
   
      
	 <li class="menu-item-has-children dropdown">
     
       <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="menu-icon fa fa-laptop"></i> Transaction
        </a>
        
           <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown">
              <li th:each="t:${listModelUserObjectTransaction}"
                   th:value="${t.userObjectId}">
                   
                   <a class="dropdown-item" th:href="@{${t.modelObject.filePath}+'/'+${t.modelUser.userId}}" >
                 
                         <span th:utext="${t.modelObject.objectName}">
                         </span>
                      </a>
              </li>
          </ul>
      </li>			
				
        	
		   	
		<li class="menu-item-has-children dropdown">
     
             <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="menu-icon fa fa-laptop"></i>   Tools
             </a>
        
            <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown">
                <li th:each="u:${listModelUserObjectTool}"
                     th:value="${u.userObjectId}">
                     
                           <a class="dropdown-item" th:href="@{${u.modelObject.filePath}+'/'+${u.modelUser.userId}}" >
                 
                    <span th:utext="${u.modelObject.objectName}">
                    </span>
                 </a>
               </li>
          
            </ul>
       </li>	


		<li class="menu-item-has-children dropdown">
     
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="menu-icon fa fa-laptop"></i> Report
              </a>
        
              <ul class="sub-menu children dropdown-menu" aria-labelledby="navbarDropdown">
                   <li th:each="r:${listModelUserObjectReport}"
                        th:value="${r.userObjectId}">
                        <a class="dropdown-item" th:href="@{${r.modelObject.filePath}+'/'+${r.modelUser.userId}}" >
                     <!--  <a class="dropdown-item" th:href="${r.modelObject.filePath}"> -->
                           <span th:utext="${r.modelObject.objectName}">
                           </span>
                       </a>
                   </li>
          
              </ul>
        </li>	
					
					
					
	             </ul>
			</div>
		</nav>
	</aside>



	<!-- Left Panel -->
	<!-- Right Panel -->

	<div id="right-panel" class="right-panel">

	<!-- Header-->
		<header id="header" class="header">

			<div class="header-menu">
<!--
				<div class="col-sm-4">
					<a id="menuToggle" class="menutoggle pull-left"><i class="fa fa fa-tasks"></i></a>
					<div class="header-left">
						<button class="search-trigger"><i class="fa fa-search"></i></button>
						<div class="form-inline">
							<form class="search-form">
								<input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
								<button class="search-close" type="submit"><i class="fa fa-close"></i></button>
							</form>
						</div>

					</div>
				</div>
-->
		<!--
				<div class="col-sm-5">
					<div class="user-area dropdown float-right">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="user-avatar rounded-circle" src="images/admin.jpg" alt="User Avatar">
                        </a>

						<div class="user-menu dropdown-menu">
							<a class="nav-link" href="#"><i class="fa fa- user"></i>My Profile</a>
							
							<input type="text" class="nav-link" th:value="${userId}" id="accessUserId" readonly>

							<a class="nav-link" href="/logoncontroller/init"><i class="fa fa-power -off"></i>Logout</a>
						</div>
					</div>
                </div>
         -->       
                  
                        <div class="col-sm-4 text-right" >
                         
                      </div> 
               
                    <div class="col-sm-8 text-right" >
                          
                           <a class="nav-link" href="/logoncontroller/init"  style="float:right;" ><i class="fa fa-power -off"></i>Logout</a>
                            <span class="nav-link" th:text="${name}"readonly style="color: black; float:right; padding-left:5px;"></span>  
                            <span class="nav-link" style="color: black; float:right; padding-right:0px;">User : </span>  
                           
                          
                         
                       </div>
                 
			</div>

		</header><!-- /header -->
		<!-- Header-->
		<div class="up-msg">
			<div class="col-sm-6 text-left">
				<!--<input type="text" id="displayMessage" name=""  readonly style="color: limegreen; display: block;border:0px">-->
			
		     	  <h5 class="modal-title" id="displayMessage" style="color: limegreen; font-size:15px; margin-left:0px"></h5>
			</div>
		</div>

		<div class="breadcrumbs">
			<!--  <div class="col-sm-4">
				<div class="page-header float-left">
					<div class="page-title">
						<h1>Mending Plan From</h1>
					</div>
				</div>
			</div>
			<div class="col-sm-8">
				<div class="page-header float-right">
					<div class="page-title">
						<ol class="breadcrumb text-right">
							<li><a href="#">Dashboard</a></li>
							<li><a href="#">Mending Info</a></li>
							<li class="active">Mending Plan From</li>
						</ol>
					</div>
				</div>
			</div>
		</div>-->

	
<!--		
=============================================================================
Mending-Plan Search Part
================================================================================		
-->		
<div class="card">
	<div class="card-header">
		<strong class="card-title">Mending Plan Search</strong>
	</div>
	<div class="card-body">
					<form id="searchForm" class="needs-validation" method="post" novalidate >
						<div class="modal-body">
                				<div class="row">
									<div class="col-3">
										<div class="form-group">
											<label >Client Type</label>
											<select class="form-control" id="buyerTypeId" name ="buyerType" placeholder="BuyerType" >
											<option value="">Select Client Type</option>
												<option	th:each="buyerTypeList:${modelOrderOwnerTypeList}"
														th:value="${buyerTypeList.orderOwnerTypeId}"
														th:utext="${buyerTypeList.orderOwnerTypeName}"/>
											</select>											
										</div>
									</div>
								
									<div class="col-3">
										<div class="form-group">
											<label >Client Name</label>
											<select class="form-control" id="buyerId" name ="buyerName" placeholder="BuyerName"  >
		
											</select>
										</div>
									</div>
									
									<div class="col-3" hidden>
										<div class="form-group">
											<label >Order Type<span style="color:red">*</span></label>
											<select class="form-control" id="orderTypeId" name="orderType" placeholder="orderType" required>
												<option value="2">workOrder</option>
												<option value="1">inquiryOrder</option>
												
			
											</select>	
										</div>
									</div>

									<div class="col-3">
										<div class="form-group">
											<label class="control-label mb-1">PO ID</label>
											<input  type="text" id="pOId" class="form-control" aria-required="true" aria-invalid="false"  name ="pOId" placeholder="PO ID" >
										</div>
									</div>
									
									<div class="col-3">
										<div class="form-group">
											<label>PO From Date</label>
											<input  type="date" id="startDate" class="form-control"  name ="From Date" >
										</div>
									</div>
									
									<div class="col-3">
										<div class="form-group">
											<label>PO To Date</label>
											<input  type="date" id="endDate" class="form-control"  name ="To Date"  >
										</div>
									</div>
			
									<div class="col-3">
										<div class="form-group">
											<label class="control-label mb-1">Mending Plan Done</label>
														<!-- Default checked -->
											<div class="custom-control custom-checkbox">
												<input type="checkbox" class="custom-control-input" onClick="onLoadBody()" id="active" name ="active" >
												<label class="custom-control-label" for="active"></label>
											</div>
										</div>
									</div>
									
								<div class="col-3">
										<div class="form-group">
											<label>Mending Plan Done From Date</label>
											<input  type="date" id="mendingPlanDoneStartDate" class="form-control"  name ="From Date" >
										</div>
									</div>
									
									<div class="col-3">
										<div class="form-group">
											<label>Mending Plan Done To Date</label>
											<input  type="date" id="mendingPlanDoneEndDate" class="form-control"  name ="To Date"  >
										</div>
									</div>
																	
									<div class="col-sm-12 text-right">
										<input type="submit" value="Search" class="btn btn-primary" style="margin-top: 24px;">
										<input type="button" style="margin-top: 24px;" class="btn btn-success" onClick="location.reload()" value="Refresh">				
									</div>
							

						</div>
					</div>				
				</form>	
			</div>
		</div>

		<!-- =======================================  Mending Plan Table-1========================== -->
		
		
		
		 <h5 style="margin-top:25px"> Select </h5>
				<div class="form-group">
					<select  name="state" id="maxRows" class="form-control" style="width:150px;">
						<option value="5">5</option>
						<option value="10">10</option>
						<option value="15">15</option>
						<option value="20">20</option>
						<option value="50">50</option>
						<option value="70">70</option>
						<option value="100">100</option>
						<option value="5000">Show ALL</option>
				     </select>
				</div>		
		
		
		
		
					
						<div class="card" style="width: 1070px;height: 500px; overflow:scroll">
						<div class="card-header">
								<strong class="card-title">Search Result</strong>
							</div>
							<div class="card-body">
							<div class="text-right">
								<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names">
							</div>
								<table id="mendingPlanSearchTable" class="table table-striped table-bordered" cellspacing="0" style="width: 2000px">
								 <h6 style="color:red; font-size:12px;margin-left:20px" id="mendingPlanSearchTableMessage" >Click WO Id to get Mending Plan data</h6>
								
									<thead>
										<tr>
											<th scope="col">WO ID</th>
											<th scope="col">WO Date</th>
											<th scope="col">PO ID</th>
											<th scope="col">PO Date (<span style="font-size:15px">yyyy/mm/dd</span>)</th>
											<th scope="col">Buyer/Other Name</th>
											<th scope="col">Item Name</th>
											<th scope="col">PO Qty</th>
											<th scope="col">UOM</th>
											<th scope="col">Remaining Qty</th>
											<th scope="col">Action</th>
											<th scope="col">QC Plan Qty</th>
											<th scope="col">QC Qty</th>
											
											

										</tr>
									</thead>
									<tbody>
									
		
									
									</tbody>
									
						
									
								</table>
								
				<div class="pagination-container">
	           			<nav>
	           			    <ul id="pagination" class="pagination"></ul>
				        </nav>
				</div> 
									
							</div>
						</div>
	
	<!-- =======================================  Mending Plan Table-2========================== -->
					
						<div class="card" style="width: 100%; overflow:scroll">
						<div class="card-header">
								<strong class="card-title">Mending Plan Data</strong>
							</div>
							<div class="card-body">
							<div class="text-right">
								<input type="text" id="myInput2" onkeyup="myFunction2()" placeholder="Search for names">
							</div>
								<table id="mendingPlanDataTable" class="table table-striped table-bordered" cellspacing="0" style="width: 100%">
									<thead>
										<tr>
									
											<th scope="col"> Plan ID</th>
											<th scope="col"> Plan Date (<span style="font-size:15px">yyyy/mm/dd</span>)</th>
											<th scope="col"> Plan Qty</th>
											<th scope="col"> UOM</th>
											<th scope="col"> PO ID</th>
											<th scope="col"> QC ID</th>
											<th scope="col"> Buyer/Other Name</th>
											<th scope="col"> Item Name</th>
											<th scope="col"> Remarks</th>
											<th scope="col"> Active</th>
											<th scope="col"> Action</th>
								

										</tr>
									</thead>
									<tbody>
				<!--			
										<tr >
											<td scope="row"><a type="text" ></a></td>
											<td scope="row"><span ></span></td>
											<td><span ></span></td>
											<td><span ></span></td>
											<td><span ></span></td>
											<td><span ></span></td>
											<td><span ></span></td>
											
											<td>
												 <a class="btn btn-primary" data-toggle="modal" data-target="#largeModal60">Edit</a> 
											</td>
										</tr>
			-->					
									</tbody>
								</table>
							</div>
						</div>		
		
		
		
		
	</div><!-- /#right-panel -->

	<!-- Right Panel -->





												
<!--=====================================================================
				QC Plan inquiry modal
=====================================================================-->
	
	<div class="modal fade" id="largeModal30" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">QC Plan</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
				</div>
				<div class="modal-body" style="text-align: left">
					<form  class="needs-validation" method="post"  novalidate>
                                            					
                                             					
     <!-- =======================================  QC Plan Modal Table========================== -->

			<div class="row">
				<div class="col-lg-12">
					<div class="card" style="width: 780px; height:300px; overflow:scroll">
						<div class="card-header">
							<strong class="card-title">QC Plan</strong>
						</div>
						<div class="card-body">
							<table id="QCPlanTable" class="table table-striped table-bordered display nowrap" style="min-width: 900px">
								<thead>
									<tr class="titlerow">
										<th scope="col">QC Plan ID</th>
										<th scope="col">QC Plan Date(<span style="font-size:15px">yyyy/mm/dd</span>)</th>
										<th scope="col">QC Plan Qty</th>
										<th scope="col">UOM</th>
										<th scope="col">Buyer Name</th>
										<th scope="col">Item Name</th>
										<th scope="col">Remarks</th>
										<th scope="col">Active</th>
									</tr>
								</thead>
								<tbody>
			<!--					<tr >
										<td scope="row"><span></span></td>
										<td scope="row"><span></span></td>
										<td><span></span></td>
			-->						</tr>
														
								</tbody>
																								
							</table>
						</div>
					</div>
				</div>
			</div>

                                             	
                                             	
                                             	
                                             	
  	<div class="text-right">
		<button type="button" data-dismiss="modal" class="btn btn-primary btn-md">
        Done
        </button>
    </div>
											
													
											
											
											
    				</form>
				</div>
			</div>
		</div>
	</div>


<!--=====================================================================
				QC inquiry modal
=====================================================================-->
	
	<div class="modal fade" id="largeModal45" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">QC</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
				</div>
				<div class="modal-body" style="text-align: left">
					<form  class="needs-validation" method="post"  novalidate>
                                            					
                                             					
     <!-- =======================================  QC Modal Table========================== -->

			<div class="row">
				<div class="col-lg-12">
					<div class="card" style="width: 780px; height:300px; overflow:scroll">
						<div class="card-header">
							<strong class="card-title">QC</strong>
						</div>
						<div class="card-body">
							<table id="QCTable" class="table table-striped table-bordered display nowrap" style="min-width: 900px">
								<thead>
									<tr class="titlerow">
										<th scope="col">QC ID</th>
										<th scope="col">QC Date(<span style="font-size:15px">yyyy/mm/dd</span>)</th>
										<th scope="col">QC Qty</th>
										<th scope="col">UOM</th>
										<th scope="col">QC By</th>
										<th scope="col">Buyer/Other Name</th>
										<th scope="col">Item Name</th>
										<th scope="col">Bed No</th>
										<th scope="col">Mending Required Qty</th>
										<th scope="col">Remarks</th>
										<th scope="col">Active</th>
									</tr>
								</thead>
								<tbody>
			<!--					
									<tr >
										<td scope="row"><span></span></td>
										<td scope="row"><span></span></td>
										<td><span></span></td>
									</tr>
			-->												
								</tbody>
																								
							</table>
						</div>
					</div>
				</div>
			</div>

                                             	
                                             	
                                             	
                                             	
  	<div class="text-right">
		<button type="button" data-dismiss="modal" class="btn btn-primary btn-md">
        Done
        </button>
    </div>
											
													
											
											
											
    				</form>
				</div>
			</div>
		</div>
	</div>

<!--=====================================================================
				Save Mending Plan Entry  modal
=====================================================================-->
	
	<div class="modal fade" id="largeModal15" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Mending Plan Entry</h5>
					
					<h5 class="modal-title" id="mendingPlanModalMessage" style="color: limegreen; font-size:15px; margin-left:150px"></h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
				</div>
				<div class="modal-body" style="text-align: left">
					<form  class="needs-validation" method="post"  novalidate>
                                            					
                <div class="row">

 			   		<div class="col-3" >
						<div class="form-group">
							<label class="control-label mb-1">MendingPlanId</label>
							<input  type="text" id="mendingPlanId" class="form-control" aria-required="true" aria-invalid="false"  name ="mendingPlanId" placeholder="MendingPlanId" readonly>
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">PO ID</label>
							<input  type="text" id="pOId" class="form-control" aria-required="true" aria-invalid="false"  name ="pOId" placeholder="POId" readonly>
						</div>
					</div>
					
					<div class="col-3" hidden>
						<div class="form-group">
							<label class="control-label mb-1">QC ID</label>
							<input  type="text" id="qCId" class="form-control" aria-required="true" aria-invalid="false"  name ="pOId" placeholder="qCId" readonly>
						</div>
					</div>
					
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">QC Qty</label>
							<input  type="text" id="qCQty" class="form-control" aria-required="true" aria-invalid="false"  name ="qCQty" placeholder="QCQty" readonly>
						</div>
					</div>
					
					<div class="col-3" >
						<div class="form-group">
							<label class="control-label mb-1">Mending Required Qty</label>
							<input  type="text" id="mendingRequiredQty" class="form-control" aria-required="true" aria-invalid="false"  name ="mendingRequiredQty" placeholder="Mending Required Qty" readonly>
						</div>
					</div>
					
					
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Item Name</label>
							<input  type="text" id="itemName" class="form-control" aria-required="true" aria-invalid="false"  name ="itemName" placeholder="itemName" readonly>
						</div>
					</div>
										
					<div class="col-3">
						<div class="form-group">
							<label>Mending Plan Date</label>
							<input type="date" id="mendingPlanDate" class="form-control"  name ="From Date" >
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Mending Plan Qty</label>
							<input  type="text" id="mendingPlanQty" class="form-control" aria-required="true" aria-invalid="false"  name ="mendingPlanQty" placeholder="MendingPlanQty" >
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label >UOM</label>
							<select class="form-control" id="uomId" name ="uomId" placeholder="UOM" >
							<option	th:each="modelUOMList:${modelUOMList}"
									th:value="${modelUOMList.uomId}"
									th:utext="${modelUOMList.uomName}"/>
							</select>											
						</div>
					</div>
										
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Active</label>
								<!-- Default checked -->
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" onClick="onLoadBody()" id="mendingPlanActive" name ="active" checked>
								<label class="custom-control-label" for="mendingPlanActive"></label>
							</div>
						</div>
					</div>

					<div class="col-5">
						<div class="form-group">
							<label for="" class="control-label mb-1">Remarks</label>
							<textarea rows="3" cols="60" name="mendingPlanRemarks" placeholder="Write Message Here"  id="mendingPlanRemarks"class="form-control" aria-required="true" aria-invalid="false">
							</textarea>
						</div>
					</div>                     					
				</div>				
				<div class="row">                                         	
					<div class="col-12 text-right">
						<button type="button" id="SaveMendingPlan"  class="btn btn-primary btn-md">
        				Save
        				</button>
    				</div>									
				</div>
				
				
				<!-- ======================================= Saved Mending Plan Table========================== -->
					
		<div class="row">
			<div class="col-12">
						<div class="card" style="width: 100%;height: 300px; overflow:scroll">
						
							<div class="card-body">
							
								<table id="MendingPlanTablePopUp" class="table table-striped table-bordered" cellspacing="0" style="width: 100%">
									<thead>
										<tr>
												<th scope="col">Mending Plan ID</th>
												<th scope="col">Mending Plan Date (<span style="font-size:15px">yyyy/mm/dd</span>)</th>
						     					<th scope="col">Mending Plan Qty</th>
						     					<th scope="col">UOM</th>
						     					<th scope="col">Buyer/Other Name</th>
						     					<th scope="col">Item Name</th>
						     					<th scope="col">PO ID</th>
						     					<th scope="col">QC ID</th>
						    					<th scope="col">Remarks</th>
						    					<th scope="col">Status</th>
						    	<!--				
						    					<th scope="col">Action</th>
								-->		
										</tr>
									</thead>
									<tbody>
				
									</tbody>
								</table>
							</div>
						</div>		
				</div>
			</div>

 <div class="row">                                         	
		<div class="col-12 text-right">
			<button type="button" id="ViewMendingPlan" data-dismiss="modal" class="btn btn-primary btn-md">
        	Done
        	</button>
    	</div>									
	</div>
											
					
    				</form>
				</div>
			</div>
		</div>
	</div>

<!--=====================================================================
				Edit Mending Plan Entry  modal
=====================================================================-->
	
	<div class="modal fade" id="largeModal60" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="largeModalLabel">Edit Mending Plan</h5>
					
					<h5 class="modal-title" id="editMendingPlanModalMessage" style="color: limegreen; font-size:15px; margin-left:150px"></h5>
					
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
				</div>
				<div class="modal-body" style="text-align: left">
					<form  class="needs-validation" method="post"  novalidate>
                                            					
                <div class="row">

 			   		<div class="col-3" >
						<div class="form-group">
							<label class="control-label mb-1">MendingPlanId</label>
							<input  type="text" id="editMendingPlanId" class="form-control" aria-required="true" aria-invalid="false"  name ="mendingPlanId" placeholder="MendingPlanId" readonly>
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">PO ID</label>
							<input  type="text" id="editPOId" class="form-control" aria-required="true" aria-invalid="false"  name ="pOId" placeholder="POId" readonly>
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">QC ID</label>
							<input  type="text" id="editQCId" class="form-control" aria-required="true" aria-invalid="false"  name ="qCId" placeholder="QCID" readonly>
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Item Name</label>
							<input  type="text" id="editItemName" class="form-control" aria-required="true" aria-invalid="false"  name ="itemName" placeholder="itemName" readonly>
						</div>
					</div>
										
					<div class="col-3">
						<div class="form-group">
							<label>Mending Plan Date</label>
							<input type="date" id="editMendingPlanDate" class="form-control"  name ="From Date" >
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Mending Plan Qty</label>
							<input  type="text" id="editMendingPlanQty" class="form-control" aria-required="true" aria-invalid="false"  name ="mendingPlanQty" placeholder="MendingPlanQty" >
						</div>
					</div>
					
					<div class="col-3">
						<div class="form-group">
							<label >UOM</label>
							<select class="form-control" id="editUOMId" name ="uomId" placeholder="UOM" >
							<option	th:each="modelUOMList:${modelUOMList}"
									th:value="${modelUOMList.uomId}"
									th:utext="${modelUOMList.uomName}"/>
							</select>											
						</div>
					</div>
					
					
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Mending Required Qty</label>
							<input  type="text" id="editMendingRequiredQty" class="form-control" aria-required="true" aria-invalid="false"  name ="mendingRequiredQty" placeholder="MendingRequiredQty" readonly>
						</div>
					</div>
										
					<div class="col-3">
						<div class="form-group">
							<label class="control-label mb-1">Active</label>
								<!-- Default checked -->
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" onClick="onLoadBody()" id="editMendingPlanActive" name ="active" checked>
								<label class="custom-control-label" for="editMendingPlanActive"></label>
							</div>
						</div>
					</div>

					<div class="col-5">
						<div class="form-group">
							<label for="" class="control-label mb-1">Remarks</label>
							<textarea rows="3" cols="60" name="mendingPlanRemarks" placeholder="Write Message Here"  id="editMendingPlanRemarks"class="form-control" aria-required="true" aria-invalid="false">
							</textarea>
						</div>
					</div>                     					
	</div>				
	<div class="row">                                         	
		<div class="col-12 text-right">
			<button type="button" id="SaveEditMendingPlan" class="btn btn-primary btn-md">Save</button>
        	
        	<button type="button" class="btn btn-secondary" data-dismiss="modal" id="EditMendingPlanModalCloseBtn">Close</button>
    	</div>									
	</div>
											
					
    				</form>
				</div>
			</div>
		</div>
	</div>


					
		
	<script src="/js/vendor/jquery-2.1.4.min.js"></script>
	<script src="/js/popper.min.js"></script>
	<script src="/js/plugins.js"></script>
	<script src="/js/main.js"></script>
	<script src="/js/order.js"></script>
	<script src="/js/lib/data-table/datatables.min.js"></script>
	<script src="/js/lib/data-table/dataTables.bootstrap.min.js"></script>
	<script src="/js/lib/data-table/dataTables.buttons.min.js"></script>
	<script src="/js/lib/data-table/buttons.bootstrap.min.js"></script>
	<script src="/js/lib/data-table/jszip.min.js"></script>
	<script src="/js/lib/data-table/pdfmake.min.js"></script>
	<script src="/js/lib/data-table/vfs_fonts.js"></script>
	<script src="/js/lib/data-table/buttons.html5.min.js"></script>
	<script src="/js/lib/data-table/buttons.print.min.js"></script>
	<script src="/js/lib/data-table/buttons.colVis.min.js"></script>
	<script src="/js/lib/data-table/datatables-init.js"></script>
	<script src="/js/lib/data-table/jquery.dataTables.min.js"></script>
	<script src="/js/lib/data-table/datatables-init.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>




	<script type="text/javascript">
	
	
	/*
	scripts for current date
	
	*/
	
	Date.prototype.toDateInputValue = (function() {
		    var local = new Date(this);
		    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());
		    return local.toJSON().slice(0,10);
		});

         document.getElementById("mendingPlanDate").value = new Date().toDateInputValue();
	
	
/*
scripts for datatable
*/	
	
	
  $(document).ready(function() {
        $('#example1').DataTable({
            "scrollX": true,         
        });

   });
   
     $(document).ready(function() {
        $('#mendingPlanSearchTable').DataTable({
            "scrollX": true,         
        });

   });
   
     $(document).ready(function() {
        $('#mendingPlanTable').DataTable({
            "scrollX": true,         
        });

   });
   
   
   $(document).ready(function() {
        $('#mendingPlanSavetable').DataTable({
            "scrollX": true,         
        });

   });
	

/*
script for buyerlist through buyerTypeList

*/

	function codeAddress()
	{
	
	$.getJSON("/mendingplancontroller/findowners", {
		                buyerType : $('#buyerTypeId').val(),   
		                ajax : 'true'
		            }, function(data) {
		                var html = '<option value="">Select Client</option>';
		                var len = data.length;
		                
		                for ( var i = 0; i < len; i++) {
		                    html += '<option value="' + data[i].orderOwnerId + '">'
		                            + data[i].ownerName + '</option>';
		                }
		                html += '</option>';
		                $('#buyerId').html(html);
		            });
		
	}

	window.onload=codeAddress;
	
	$('#buyerTypeId').change(
		        function() {
		            $.getJSON("/mendingplancontroller/findowners", {
		                buyerType : $(this).val(),   
		                ajax : 'true'
		            }, function(data) {
		                var html = '<option value="">Select Client</option>';
		                var len = data.length;
		                
		                for ( var i = 0; i < len; i++) {
		                    html += '<option value="' + data[i].orderOwnerId + '">'
		                            + data[i].ownerName + '</option>';
		                }
		                html += '</option>';
		                $('#buyerId').html(html);
		            });
		        });
		        
	/*
		table's search scripts
	*/	        
		        
		       
  $(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#mendingPlanSearchTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
}); 


  $(document).ready(function(){
  $("#myInput2").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#mendingPlanDataTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
}); 		       
		        
		        
/*
	search Form Scripts

*/		        
		        
	$(function () {
    $('#searchForm').submit(function(e) {
     // prevent default for submission
      e.preventDefault();
      
    
      
      $('#mendingPlanSearchTable tbody').empty();
      
      
 
       var check=document.getElementById("active");
       if(check.checked==true){
       
    
      	
      	 if($("#pOId").val()!=""||($("#mendingPlanDoneStartDate").val()!=""||$("#mendingPlanDoneEndDate").val()!=""))
		{
		text="";
      	document.getElementById("displayMessage").value=text;
      	
     
      	
      	completedMendingPlanSearch();
      	
      	}
      	else if ($("#buyerTypeId").val()!=""&&$("#buyerId").val()!="")
      	{
     
      	
      	text="";
      	document.getElementById("displayMessage").value=text;
      		completedMendingPlanSearch();
      	}
      	else
      	{
  
      	
      	text="Please Choose Another Data";
      	//document.getElementById("displayMessage").value=text;
      	document.getElementById("displayMessage").innerHTML=text;
      	$('#mendingPlanSearchTable tbody').empty();
      	}	
      	
      	
      	}	//end nested if
      	else{
      	
     
      	
      	 if($("#pOId").val()!=""||$("#startDate").val()!=""||$("#endDate").val()!="")
		{
		
		
	
		text="";
      	document.getElementById("displayMessage").value=text;
      		pendingMendingPlanSearch();
      		
      	}else if ($("#buyerTypeId").val()!=""&&$("#buyerId").val()!="")
      	{
      	
    
      	
      	text="";
      	document.getElementById("displayMessage").value=text;
      		pendingMendingPlanSearch();
      	}
      	
      	else
      	{
      	
      	
      	
      	text="Please Choose Another Data";
      	//document.getElementById("displayMessage").value=text;
        document.getElementById("displayMessage").innerHTML=text;
      	$('#mendingPlanSearchTable tbody').empty();
      	}	
   	
      	} 	//end nested else	  
      
 
 
   });  // submit
   });   // function
   
   
   
   
  /*
  scripts for search pending & completed mendingPlan
  
  */ 
		        
		        
	 function pendingMendingPlanSearch(){
   
  var pOId=$("#pOId").val();
  var startDate= $("#startDate").val();
  var endDate= $("#endDate").val();
  var buyerId= $("#buyerId").val();
   
    var formData= { 
       	 					"pOId" : pOId,
       	 					"buyerId" : buyerId,
        					"startDate" : startDate,
        					"endDate" : endDate	
        					};
      
      //  $('#table tbody').html('');
       	  $('#mendingPlanSearchTable tbody').empty();
       	  
       	  
       	  $.ajax({
            			type : "GET",
           				// url :  "/api/inquiry_search",
           				   url:"/mendingplancontroller/pendingmendingplansearch",
            			   dataType : 'json',
	    				   data: formData,
            			   success: function(result){
            			   
            if(result===null||result.length==0)
            {
            alert("No Records are found");
            
            }else{
            
             $.each(result, function(i,modelMendingPlanCustomList){
					
	    var customerRow = '<tr>' +
	    		    	
	    	'<td class="tdWOMstId">' + modelMendingPlanCustomList.wOMstId + '</td>' +
			'<td hidden>' + modelMendingPlanCustomList.wOChdId + '</td>' +     			
			'<td>' + modelMendingPlanCustomList.wODate + '</td>' +
			'<td class="tdMendingPlanPOId">' + modelMendingPlanCustomList.pOId + '</td>' +   			
			'<td>' + modelMendingPlanCustomList.pODate + '</td>' +
			//'<td class="buyerId" >' + modelMendingPlanCustomList.buyerId + '</td>' +
			'<td class="tdBuyerName">' + modelMendingPlanCustomList.buyerName + '</td>' +
			'<td class="tdItemName">' + modelMendingPlanCustomList.itemName+'</td>' +
			//'<td>' + modelMendingPlanCustomList.uomId+'</td>' +
			'<td class="tdPOQty">' + modelMendingPlanCustomList.pOQty +'</td>' +
			'<td>' + modelMendingPlanCustomList.uomName+'</td>' +
			//'<td>' + modelMendingPlanCustomList.itemId+'</td>' +
			'<td>' + modelMendingPlanCustomList.mendingPlanQtyUnDone+'</td>' +
			'<td class="tdMendingPlan">' + '<input type="button" value="Mending Plan" class="btn btn-primary btn-md" data-toggle="modal" data-target="#largeModal15" >'+ '</td>' +
			'<td class="tdQCPlanQty" data-toggle="modal" data-target="#largeModal30" >' + modelMendingPlanCustomList.qCPlanQty+'</td>' +
			'<td class="tdQCQty" data-toggle="modal" data-target="#largeModal45">' + modelMendingPlanCustomList.qCQty+'</td>' +
			'<td class="tdMendingRequiredQty" hidden>' + modelMendingPlanCustomList.mendingRequiredQty + '</td>' +
			'<td class="tdQCId" hidden>' + modelMendingPlanCustomList.qCId + '</td>' +
						        
			'</tr>';
									  
									  
						
	      $('#mendingPlanSearchTable tbody').append(customerRow);
	      
	     
					
		});        // each
		
		}	//else
		
		
		
		
		// for default 10 data   
		                                    
	var table='#mendingPlanSearchTable';
	
	$(".pagination").html('');
	
	var trnum =0;
	var maxRows =parseInt(5);
	var  totalRows=$(table+' tbody tr').length;
	
	$(table+' tr:gt(0)').each(function(e) {
	
	              trnum++;
	              
	              if(trnum > maxRows)
	              {
	                 $(this).hide();
	              }
	              if(trnum <= maxRows)
	              {
	                 $(this).show();
	              }
	    
	
	
	});   //each function
	
	 if(totalRows > maxRows)
	              {
	              
	              
	              var pagenum =Math.ceil(totalRows/maxRows);
	              
	              for(var i=1;i<=pagenum;)
	              {
	                 $("#pagination").append('<li class="btn-sm" data-page="'+i+'">\<span>'+ i++ +'</span></li>').show();
	              }  //for
	                
	              }   //if
	              
	              
	              $('.pagination li:first-child').addClass('active');
	             $('.pagination li').on('click',function(){
	             
	             var pageNum =  $(this).attr('data-page');
	             var trIndex= 0;
	             
	             $('.pagination li').removeClass('active');
	              $(this).addClass('active');
	             $(table+' tr:gt(0)').each(function(e) {
	             
	                trIndex++;
	                if(trIndex >(maxRows*pageNum) || trIndex<=((maxRows*pageNum)-maxRows))
	                {
	                    $(this).hide();
	                }
	                else
	                {
	                $(this).show();
	                }
	             
	             
	             
	                }); // each function
	             
	             });  //  click function
	             
	             
	
		                                       
		                // default 10 data - end 
		
		
		
		
		
		
					 
		},   // end success
	error : function(e) {
		alert("ERROR: ", e);
		console.log("ERROR: ", e);
			}
										
        });   // end ajax
   
  
   
   }
   
   
   
   function completedMendingPlanSearch(){
  
  var pOId=$("#pOId").val();
  var startDate= $("#mendingPlanDoneStartDate").val();
  var endDate= $("#mendingPlanDoneEndDate").val();
  var buyerId= $("#buyerId").val();
   
    var formData= { 
       	 					"pOId" : pOId,
       	 					"buyerId" : buyerId,
        					"startDate" : startDate,
        					"endDate" : endDate	
        					};
      
      //  $('#table tbody').html('');
       	  $('#mendingPlanSearchTable tbody').empty();
       	  
       	  
       	  $.ajax({
            			type : "GET",
           				// url :  "/api/inquiry_search",
           				   url:"/mendingplancontroller/completedmendingplansearch",
            			   dataType : 'json',
	    				   data: formData,
            			   success: function(result){
            			   
            if(result===null||result.length==0)
            {
            alert("No Records are found");
            
            }else{
            
             $.each(result, function(i,modelMendingPlanCustomList){
					
	    var customerRow = '<tr>' +
	    		    	
	    	'<td class="tdWOMstId">' + modelMendingPlanCustomList.wOMstId + '</td>' +
			'<td hidden>' + modelMendingPlanCustomList.wOChdId + '</td>' +     			
			'<td>' + modelMendingPlanCustomList.wODate + '</td>' +
			'<td class="tdMendingPlanPOId">' + modelMendingPlanCustomList.pOId + '</td>' +   			
			'<td>' + modelMendingPlanCustomList.pODate + '</td>' +
			//'<td class="buyerId" >' + modelMendingPlanCustomList.buyerId + '</td>' +
			'<td class="tdBuyerName">' + modelMendingPlanCustomList.buyerName + '</td>' +
			'<td class="tdItemName">' + modelMendingPlanCustomList.itemName+'</td>' +
			//'<td>' + modelMendingPlanCustomList.uomId+'</td>' +
			'<td class="tdPOQty">' + modelMendingPlanCustomList.pOQty +'</td>' +
			'<td>' + modelMendingPlanCustomList.uomName+'</td>' +
			//'<td>' + modelMendingPlanCustomList.itemId+'</td>' +
			'<td>' + modelMendingPlanCustomList.mendingPlanQtyUnDone+'</td>' +
			'<td class="tdMendingPlan">' + '<input type="button" value="Mending Plan" class="btn btn-primary btn-md" data-toggle="modal" data-target="#largeModal15" >'+ '</td>' +
			'<td class="tdQCPlanQty" data-toggle="modal" data-target="#largeModal30" >' + modelMendingPlanCustomList.qCPlanQty+'</td>' +
			'<td class="tdQCQty" data-toggle="modal" data-target="#largeModal45">' + modelMendingPlanCustomList.qCQty+'</td>' +			
			'<td class="tdMendingRequiredQty" hidden>' + modelMendingPlanCustomList.mendingRequiredQty + '</td>' +
			'<td class="tdQCId" hidden>' + modelMendingPlanCustomList.qCId + '</td>' +
						        
			'</tr>';
									  
									  
						
	      $('#mendingPlanSearchTable tbody').append(customerRow);
	      
	     
					
		});        // each
		
		}	//else
		
		
		
		
		
		// for default 10 data   
		                                    
	var table='#mendingPlanSearchTable';
	
	$(".pagination").html('');
	
	var trnum =0;
	var maxRows =parseInt(5);
	var  totalRows=$(table+' tbody tr').length;
	
	$(table+' tr:gt(0)').each(function(e) {
	
	              trnum++;
	              
	              if(trnum > maxRows)
	              {
	                 $(this).hide();
	              }
	              if(trnum <= maxRows)
	              {
	                 $(this).show();
	              }
	    
	
	
	});   //each function
	
	 if(totalRows > maxRows)
	              {
	              
	              
	              var pagenum =Math.ceil(totalRows/maxRows);
	              
	              for(var i=1;i<=pagenum;)
	              {
	                 $("#pagination").append('<li class="btn-sm" data-page="'+i+'">\<span>'+ i++ +'</span></li>').show();
	              }  //for
	                
	              }   //if
	              
	              
	              $('.pagination li:first-child').addClass('active');
	             $('.pagination li').on('click',function(){
	             
	             var pageNum =  $(this).attr('data-page');
	             var trIndex= 0;
	             
	             $('.pagination li').removeClass('active');
	              $(this).addClass('active');
	             $(table+' tr:gt(0)').each(function(e) {
	             
	                trIndex++;
	                if(trIndex >(maxRows*pageNum) || trIndex<=((maxRows*pageNum)-maxRows))
	                {
	                    $(this).hide();
	                }
	                else
	                {
	                $(this).show();
	                }
	             
	             
	             
	                }); // each function
	             
	             });  //  click function
	             
	             
	
		                                       
		                // default 10 data - end 
		
		
		
		
		
		
					 
		},   // end success
	error : function(e) {
		alert("ERROR: ", e);
		console.log("ERROR: ", e);
			}
										
        });   // end ajax
   
  
   
   }
   
   
   /*
   
   scripts for save mending plan
   
   
   */
   
    $("#mendingPlanSearchTable").on('click','.tdMendingPlan',function(){
   
	    var $row = $(this).closest("tr");  
	     
	    //var $row = $(".tdQCSearch").closest("tr"); 
	    var pOId = $row.find(".tdMendingPlanPOId").text();
	    var qCId = $row.find(".tdQCId").text();
	    var qCQty = $row.find(".tdQCQty").text();
	    var mendingRequiredQty= $row.find(".tdMendingRequiredQty").text();
	    var itemName = $row.find(".tdItemName").text();
	    var n="";
	 
	     $(".modal-body #pOId").val( pOId );
	     $(".modal-body #qCId").val( qCId );
	     $(".modal-body #qCQty").val( qCQty );
	     $(".modal-body #mendingRequiredQty").val( mendingRequiredQty );
	     $(".modal-body #itemName").val( itemName );
	
	     $(".modal-body #mendingPlanQty").val(n);
	     $(".modal-body #mendingPlanRemarks").val(n);
	   
	
	 var formData= { 
     				 		"pOId" : pOId,
     				 		"qCId" : qCId

						};
		
	$('#MendingPlanTablePopUp tbody').empty();					
						
		$.ajax({
   		           type : "GET",    		           
   		             url:"/mendingplancontroller/savemendingplansearch",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            

   		               $.each(result, function(i,modelMendingPlanList){
   		               
 					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="mendingPlanId" >' + modelMendingPlanList.mendingPlanId + '</td>' +
	    	'<td class="mendingPlanDate">' + modelMendingPlanList.mendingPlanDate + '</td>' +
	    	'<td class="mendingPlanQty">' + modelMendingPlanList.mendingPlanQty +'</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +
			'<td >' + modelMendingPlanList.itemName + '</td>' +
			'<td class="mendingPlanPOId">' + modelMendingPlanList.pOId + '</td>' +
			'<td class="mendingPlanQCId">' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="mendingPlanRemarks" >' + modelMendingPlanList.mendingPlanRemarks + '</td>' +
	    	'<td class="sActive">' + modelMendingPlanList.sActive + '</td>' +
			//'<td class="tdMendingPlanRemove">' + '<button type="button" class="btn btn-danger btn-sm" onclick="qCPlanDeleteFunction(this)">Remove</button>'+'</td>' + 
			        
			'</tr>';
		
	      $('#MendingPlanTablePopUp tbody').append(customerRow);
		
		});        // each
   		            	

   		            },	//success
   			 });	//ajax
   			 
   		 
   			 					
						
		});
		
		
	 $('#SaveMendingPlan').click(function(e) {
	 	 
	 var n="";
	 var mendingPlanDate=document.getElementById("mendingPlanDate").value;
	 var pOId=document.getElementById("pOId").value;
	 var qCId=document.getElementById("qCId").value;
	 var qCQty=document.getElementById("qCQty").value;
	 var mendingPlanQty=document.getElementById("mendingPlanQty").value;
	 var uomId=document.getElementById("uomId").value;
	 var mendingRequiredQty=document.getElementById("mendingRequiredQty").value;
	 var mendingPlanRemarks=document.getElementById("mendingPlanRemarks").value;
	 var check=document.getElementById("mendingPlanActive");
	 if(check.checked==true)
		{
			var activeStatus = 1;
			var x="Active"
		}
	else
		{
			var activeStatus = 0;
			var x="InActive"
		}
		

	 
	 if(qCQty==0)
	 {
	 alert("Mending Plan cannot be done without QC Qty.Try Again");
	 }
	 else if(parseFloat(mendingPlanQty)>parseFloat(mendingRequiredQty)){
	 
	 	alert("Mending Plan Quantity cannot be higher than "+parseFloat(mendingRequiredQty));
	 	
	 	}
	 else if(mendingPlanQty==n)
	 {
	 alert("Please insert Mending Plan Quantity");
	 }	
	 else
	 {
	 
	 
	 	var formData= { 
     				 		"pOId" : pOId,
        					"qCId" : qCId,
        					"uomId" : uomId,
        					"mendingPlanDate" : mendingPlanDate,
        					"mendingPlanQty" : mendingPlanQty,
        					"mendingPlanRemarks" : mendingPlanRemarks,
        					"activeStatus" : activeStatus
       	 					
						};
	 	
	 	$('#MendingPlanTablePopUp tbody').empty();					
						
		$.ajax({
   		           type : "POST",    		           
   		             url:"/mendingplancontroller/savemendingplan",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            
   		            var text="Data saved successfully,press done button ";
		            document.getElementById("mendingPlanModalMessage").innerHTML=text;

   		               $.each(result, function(i,modelMendingPlanList){
   		               
 					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="mendingPlanId" >' + modelMendingPlanList.mendingPlanId + '</td>' +
	    	'<td class="mendingPlanDate">' + modelMendingPlanList.mendingPlanDate + '</td>' +
	    	'<td class="mendingPlanQty">' + modelMendingPlanList.mendingPlanQty +'</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +
			'<td >' + modelMendingPlanList.itemName + '</td>' +
			'<td class="mendingPlanPOId">' + modelMendingPlanList.pOId + '</td>' +
			'<td class="mendingPlanQCId">' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="mendingPlanRemarks" >' + modelMendingPlanList.mendingPlanRemarks + '</td>' +
	    	'<td class="sActive">' + modelMendingPlanList.sActive + '</td>' +
			//'<td class="tdMendingPlanRemove">' + '<button type="button" class="btn btn-danger btn-sm" onclick="mendingPlanDeleteFunction(this)">Remove</button>'+'</td>' + 
			        
			'</tr>';
		
	      $('#MendingPlanTablePopUp tbody').append(customerRow);
		
		});        // each
   		            	

   		            },	//success
   			 });	//ajax
	 	
	 	
	 	
	 	
	 	
	 }		//else condition
	 
	 });	//clickFunction	
	 
/*	 
	 
	  $("#MendingPlanTablePopUp").on('click','.tdMendingPlanRemove',function(){
		  
		  var $row = $(this).closest("tr");
		  var pOId = $row.find(".mendingPlanPOId").text();
		  var qCId = $row.find(".mendingPlanQCId").text();
		  var mendingPlanId = $row.find(".mendingPlanId").text();

		   var formData= { 
     				 		
        				  "qCId" : qCId,
        				  "pOId" : pOId,
        				  "mendingPlanId" : mendingPlanId

						};
			
			
			$('#MendingPlanTablePopUp tbody').empty();		
		
		 $.ajax({
   		            type : "POST",	    		           
   		             url:"/mendingplancontroller/deletemendingplan",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		        
   		             $.each(result, function(i,modelMendingPlanList){
					
			
					
	   var customerRow = '<tr>' +
	    	
	    	'<td class="mendingPlanId">' + modelMendingPlanList.mendingPlanId + '</td>' +
	    	'<td class="mendingPlanDate">' + modelMendingPlanList.mendingPlanDate + '</td>' +
	    	'<td class="mendingPlanPOId">' + modelMendingPlanList.pOId + '</td>' +
	    	'<td class="mendingPlanQty">' + modelMendingPlanList.mendingPlanQty +'</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +
			'<td >' + modelMendingPlanList.uomName + '</td>' +
			'<td >' + modelMendingPlanList.itemName + '</td>' +
			'<td class="mendingPlanQCId">' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="mendingPlanRemarks">' + modelMendingPlanList.mendingPlanRemarks + '</td>' +
	    	'<td class="sActive">' + modelMendingPlanList.sActive + '</td>' +
			'<td class="tdMendingPlanRemove">' + '<button type="button" class="btn btn-danger btn-sm" onclick="mendingPlanDeleteFunction(this)">Remove</button>'+'</td>' + 
			        
			'</tr>';
									  
		
	      $('#MendingPlanTablePopUp tbody').append(customerRow);
	      
	     
					
		});       // each

   		            	
   		            },	//success function
   			 });	//ajax
						
						
		//document.getElementById("QCPlanTablePopUp").deleteRow(x);				
		 
		 });	//click function
		 
		 
*/		 
		 
/*
	scripts for viewing saved mendingPlan data

*/		


	 $('#ViewMendingPlan').click(function(e) {
 
    

    document.getElementById("mendingPlanModalMessage").innerHTML=null;
    
     $('#MendingPlanTablePopUp tr').each(function() {  
     
      var $row = $(this).closest("tr"); 
    

     
     var mendingPlanId = $row.find(".mendingPlanId").text();
     
 
     
     if(mendingPlanId=="")
   	{
   
   	}
   	else{
   
  
      var formData= { 
     				 		
        					"mendingPlanId" : mendingPlanId
        					
       	 					
						};
						
	$('#mendingPlanDataTable tbody').empty();				
    
    $.ajax({
   		           type : "GET",    		           
   		             url:"/mendingplancontroller/showmendingplandata",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            
   		               $.each(result, function(i,modelMendingPlanList){
					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="mendingPlanId">' + modelMendingPlanList.mendingPlanId + '</td>' +
	    	'<td class="mendingPlanDate">' + modelMendingPlanList.mendingPlanDate + '</td>' +
	    	'<td class="mendingPlanQty">' + modelMendingPlanList.mendingPlanQty +'</td>' +
	    	'<td class="uomId" hidden>' + modelMendingPlanList.uomId + '</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td class="mendingPlanPOId">' + modelMendingPlanList.pOId + '</td>' +
	    	'<td class="mendingPlanQCId">' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="mendingRequiredQty" hidden>' + modelMendingPlanList.mendingRequiredQty + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +
			'<td class="itemName">' + modelMendingPlanList.itemName + '</td>' +
	    	'<td class="mendingPlanRemarks">' + modelMendingPlanList.mendingPlanRemarks + '</td>' +
	    	'<td class="sActive">' + modelMendingPlanList.sActive + '</td>' +
	    	'<td class="activeStatus" hidden>' + modelMendingPlanList.activeStatus + '</td>' +
			'<td class="tdMendingPlanEdit">' + '<button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#largeModal60">Edit</button>'+'</td>' + 
			        
			'</tr>';
									  
									  
						
	      $('#mendingPlanDataTable tbody').append(customerRow);
	      
	     
					
		});        // each
   		            	
   		               
   		            	
   		            },	//success
   			 });	//ajax					
						
      
       
       }	//else condition
        
     });	//each Function
	    		  


        });	//clickFunction
        
        
        
        
          $("#mendingPlanSearchTable").on('click','.tdWOMstId',function(){

      
           var $row = $(this).closest("tr"); 
 		   var pOId = $row.find(".tdMendingPlanPOId").text();
 		   var qCId = $row.find(".tdQCId").text();
 		   
 		   
			
			 var formData= { 
     				 		
        					"pOId" : pOId,
        					"qCId" : qCId
        					
       	 					
						};
						
			$('#mendingPlanDataTable tbody').empty();				
    
    $.ajax({
   		           type : "GET",    		           
   		             url:"/mendingplancontroller/savemendingplansearch",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            
   		    if(result===null||result.length==0)
            {
            alert("No Records are found");
            
            }else{
   		            
   		     $.each(result, function(i,modelMendingPlanList){
					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="mendingPlanId">' + modelMendingPlanList.mendingPlanId + '</td>' +
	    	'<td class="mendingPlanDate">' + modelMendingPlanList.mendingPlanDate + '</td>' +
	    	'<td class="mendingPlanQty">' + modelMendingPlanList.mendingPlanQty +'</td>' +
	    	'<td class="uomId" hidden>' + modelMendingPlanList.uomId + '</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td class="mendingPlanPOId">' + modelMendingPlanList.pOId + '</td>' +
	    	'<td class="mendingPlanQCId">' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="mendingRequiredQty" hidden>' + modelMendingPlanList.mendingRequiredQty + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +
			'<td class="itemName">' + modelMendingPlanList.itemName + '</td>' +
	    	'<td class="mendingPlanRemarks">' + modelMendingPlanList.mendingPlanRemarks + '</td>' +
	    	'<td class="sActive">' + modelMendingPlanList.sActive + '</td>' +
	    	'<td class="activeStatus" hidden>' + modelMendingPlanList.activeStatus + '</td>' +
			'<td class="tdMendingPlanEdit">' + '<button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#largeModal60">Edit</button>'+'</td>' + 
			        
			'</tr>';
									  
									  
						
	      $('#mendingPlanDataTable tbody').append(customerRow);
	      
	     
					
		});        // each
   		            	
   		}		//else condition               
   		            	
   		            },	//success
   			 });	//ajax			
						


 
		 });	//clickFunction
		 
		 
/*
	scripts for save edited mendingPlan Data
*/		 

$("#mendingPlanDataTable").on('click','.tdMendingPlanEdit',function(){

		   var $row = $(this).closest("tr");  
	     
	    //var $row = $(".tdQCSearch").closest("tr"); 
	    var pOId = $row.find(".mendingPlanPOId").text();
	    var qCId = $row.find(".mendingPlanQCId").text();
	    var mendingPlanId = $row.find(".mendingPlanId").text();
	    var mendingPlanDate= $row.find(".mendingPlanDate").text();
	    var itemName = $row.find(".itemName").text();
	    var mendingPlanQty = $row.find(".mendingPlanQty").text();
	    var uomId = $row.find(".uomId").text();
	    var mendingPlanRemarks = $row.find(".mendingPlanRemarks").text();
	    var activeStatus = $row.find(".activeStatus").text();
	    var n="";
	    var mendingRequiredQty = $row.find(".mendingRequiredQty").text();

	    
	    
	 
	     $(".modal-body #editPOId").val( pOId );
	     $(".modal-body #editQCId").val( qCId );
	     $(".modal-body #editMendingPlanId").val( mendingPlanId );
	     $(".modal-body #editMendingPlanDate").val( mendingPlanDate );
	     $(".modal-body #editItemName").val( itemName );
		 $(".modal-body #editMendingRequiredQty").val( mendingRequiredQty );
	     $(".modal-body #editMendingPlanQty").val(mendingPlanQty);
	     $(".modal-body #editUOMId").val(uomId);
	     $(".modal-body #editMendingPlanRemarks").val(mendingPlanRemarks);
	     		 
});	//clickFunction	

	
$('#EditMendingPlanModalCloseBtn').click(function(e) {

document.getElementById("editMendingPlanModalMessage").innerHTML=null;

});	//clickFunction	

 $('#SaveEditMendingPlan').click(function(e) {

 
	 var mendingPlanDate=document.getElementById("editMendingPlanDate").value;
	 var mendingPlanQty=document.getElementById("editMendingPlanQty").value;
	 var mendingPlanRemarks=document.getElementById("editMendingPlanRemarks").value;
	 var mendingPlanDate=document.getElementById("editMendingPlanDate").value;
	 var qCId=document.getElementById("editQCId").value;
	 var pOId=document.getElementById("editPOId").value;
	 var uomId=document.getElementById("editUOMId").value;
	 var mendingRequiredQty=document.getElementById("editMendingRequiredQty").value;
	 var mendingPlanId=document.getElementById("editMendingPlanId").value;
	 var check=document.getElementById("editMendingPlanActive");
	 var x="";
	 
	 //alert("UOM: "+uomId);
	 if(check.checked==true)
		{
			var activeStatus = 1;
			var x="Active"
		}
	else
		{
			var activeStatus = 0;
			var x="InActive"
		}
	

	if(parseFloat(mendingPlanQty)>parseFloat(mendingRequiredQty))
	{
	alert("Mending Plan Quantity cannot be higher than "+parseFloat(mendingRequiredQty));
	}
	else{
	
		
	 var formData= { 
     			   "mendingPlanId" : mendingPlanId,
        					"pOId" : pOId,
        					"qCId" : qCId,
        					"uomId" : uomId,
        		  "mendingPlanQty" : mendingPlanQty,
        	  "mendingPlanRemarks" : mendingPlanRemarks,
        	  	 "mendingPlanDate" : mendingPlanDate,
        	  	    "activeStatus" : activeStatus
        					
       	 					
						};
						
			$('#mendingPlanDataTable tbody').empty();
			
			 $.ajax({
   		           type : "POST",    		           
   		             url:"/mendingplancontroller/mendingplanupdate",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            
   		            
   		              var text="Data updated successfully,press close button";
                      document.getElementById("editMendingPlanModalMessage").innerHTML=text;
   		            
   		               $.each(result, function(i,modelMendingPlanList){
					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="mendingPlanId">' + modelMendingPlanList.mendingPlanId + '</td>' +
	    	'<td class="mendingPlanDate">' + modelMendingPlanList.mendingPlanDate + '</td>' +
	    	'<td class="mendingPlanQty">' + modelMendingPlanList.mendingPlanQty +'</td>' +
	    	'<td class="uomId" hidden>' + modelMendingPlanList.uomId + '</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td class="mendingPlanPOId">' + modelMendingPlanList.pOId + '</td>' +
	    	'<td class="mendingPlanQCId">' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="mendingRequiredQty" hidden>' + modelMendingPlanList.mendingRequiredQty + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +
			'<td class="itemName">' + modelMendingPlanList.itemName + '</td>' +
	    	'<td class="mendingPlanRemarks">' + modelMendingPlanList.mendingPlanRemarks + '</td>' +
	    	'<td class="sActive">' + modelMendingPlanList.sActive + '</td>' +
	    	'<td class="activeStatus" hidden>' + modelMendingPlanList.activeStatus + '</td>' +
			'<td class="tdMendingPlanEdit">' + '<button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#largeModal60">Edit</button>'+'</td>' + 
			        
			'</tr>';
									  
									  
						
	      $('#mendingPlanDataTable tbody').append(customerRow);
	      
	     
					
		});        // each
   		            	
   		               
   		            	
   		            },	//success
   			 });	//ajax
			
				
}		//else condition

 	 
});	//click function


 /*
 scripts for viewing qCPlan & qC
 */  
   	        
  $("#mendingPlanSearchTable").on('click','.tdQCPlanQty',function(){
  

  
  	var $row = $(this).closest("tr");  
    var pOId = $row.find(".tdMendingPlanPOId").text();
    
    
     var formData= { 
     				 		"pOId" : pOId

						};
						
		
	$('#QCPlanTable tbody').empty();					
						
		$.ajax({
   		           type : "GET",    		           
   		             url:"/mendingplancontroller/qcplansearch",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            

   		               $.each(result, function(i,modelMendingPlanList){
   		               
 					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="qCPlanId" >' + modelMendingPlanList.qCPlanId + '</td>' +
	    	'<td class="qCPlanDate">' + modelMendingPlanList.qCPlanDate + '</td>' +
	    	'<td class="qCPlanQty">' + modelMendingPlanList.qCPlanQty +'</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +	    	
	    	'<td >' + modelMendingPlanList.itemName + '</td>' +
	    	'<td class="qCPlanRemarks" >' + modelMendingPlanList.qCPlanRemarks + '</td>' +
	    	'<td class="qCPlanActiveStatus" >' + modelMendingPlanList.sActive + '</td>' +

			'</tr>';
		
	      $('#QCPlanTable tbody').append(customerRow);
		
		});        // each
   		            	

   		            },	//success
   			 });	//ajax
    
    
  
  

 	});			//click function
 	
 	  $("#mendingPlanSearchTable").on('click','.tdQCQty',function(){
 
  
  
  	var $row = $(this).closest("tr");  
    var pOId = $row.find(".tdMendingPlanPOId").text();
    
    
     var formData= { 
     				 		"pOId" : pOId

						};
						

	$('#QCTable tbody').empty();					
						
		$.ajax({
   		           type : "GET",    		           
   		             url:"/mendingplancontroller/qcsearch",
   		            dataType : 'json',
   			        data: formData,
   		            success: function(result){
   		            

   		               $.each(result, function(i,modelMendingPlanList){
   		               
 					
	    var customerRow = '<tr>' +
	    	
	    	'<td class="qCId" >' + modelMendingPlanList.qCId + '</td>' +
	    	'<td class="qCDate">' + modelMendingPlanList.qCDate + '</td>' +
	    	'<td class="qCQty">' + modelMendingPlanList.qCQty +'</td>' +
	    	'<td >' + modelMendingPlanList.uomName + '</td>' +
	    	'<td>' +modelMendingPlanList.userName+'('+modelMendingPlanList.qCBy+')' + '</td>' +
	    	'<td >' + modelMendingPlanList.buyerName + '</td>' +	    	
	    	'<td >' + modelMendingPlanList.itemName + '</td>' +
	    	'<td >' + modelMendingPlanList.bedNo + '</td>' +
	    	'<td >' + modelMendingPlanList.mendingRequiredQty + '</td>' +
	    	'<td class="qCRemarks" >' + modelMendingPlanList.qCRemarks + '</td>' +
	    	'<td class="qCActiveStatus" >' + modelMendingPlanList.sActive + '</td>' +

			'</tr>';
		
	      $('#QCTable tbody').append(customerRow);
		
		});        // each
   		            	

   		            },	//success
   			 });	//ajax
    
    
  
  

 	});	//click function
 	
 	
 	
 	
	
		</script>
		
<script>
		
		
	var table='#mendingPlanSearchTable';
	
	
	$('#maxRows').on('change',function(){
	
	$(".pagination").html('');
	
	var trnum =0;
	var maxRows =parseInt($(this).val());
	var  totalRows=$(table+' tbody tr').length;
	
	$(table+' tr:gt(0)').each(function(e) {
	
	              trnum++;
	              
	              if(trnum > maxRows)
	              {
	                 $(this).hide();
	              }
	              if(trnum <= maxRows)
	              {
	                 $(this).show();
	              }
	    
	
	
	});   //each function
	
	 if(totalRows > maxRows)
	              {
	              
	              
	              var pagenum =Math.ceil(totalRows/maxRows);
	              
	              for(var i=1;i<=pagenum;)
	              {
	                 $("#pagination").append('<li class="btn-sm" data-page="'+i+'">\<span>'+ i++ +'</span></li>').show();
	              }  //for
	                
	              }   //if
	              
	              
	              $('.pagination li:first-child').addClass('active');
	             $('.pagination li').on('click',function(){
	             
	             var pageNum =  $(this).attr('data-page');
	             var trIndex= 0;
	             
	             $('.pagination li').removeClass('active');
	              $(this).addClass('active');
	             $(table+' tr:gt(0)').each(function(e) {
	             
	                trIndex++;
	                if(trIndex >(maxRows*pageNum) || trIndex<=((maxRows*pageNum)-maxRows))
	                {
	                    $(this).hide();
	                }
	                else
	                {
	                $(this).show();
	                }
	             
	             
	             
	                }); // each function
	             
	             });  //  click function
	             
	             
	      });   //on change function
	             
	             
	
	            
</script>
		
		
		
		</script>


 <script type="text/javascript" th:inline="javascript">
		
		var now = new Date();
		var day = ("0" + now.getDate()).slice(-2);
		var month = ("0" + (now.getMonth() + 1)).slice(-2);
	
	    var today = now.getFullYear()+"-"+(month)+"-"+(day) ;
	    
	    document.getElementById('endDate').value = today;
	    document.getElementById('mendingPlanDoneEndDate').value = today;
      
    
       
	</script>
		
     
	 <style>
   
    .table td {
    padding: 0 5px;
          }

   </style>											

</body>

</html>